<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on April, 8 2008 by texi2html 1.76 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<head>
<title>ruby-debug: Debugging with ruby-debug</title>

<meta name="description" content="ruby-debug: Debugging with ruby-debug">
<meta name="keywords" content="ruby-debug: Debugging with ruby-debug">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.76">
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Top"></a>
<a name="SEC_Top"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="settitle">Debugging with ruby-debug</h1>

<p>This file describes ruby-debug, the Ruby Debugger, 
version 0.10.1
</p>
<p>This is the 0.10.1 Edition, 3 April 2008
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC1">1. Summary of <code>ruby-debug</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     Overview of Debugger with sample sessions
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC11">2. Getting in and out</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC18">3. <code>ruby-debug</code> Command Reference</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  rdebug command reference
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC69">4. Post-Mortem Debugging</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Debugging on an uncaught exception
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC70">5. The Debugger Module and Class</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   ruby-debug's Debugger module and class
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Appendix
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC79">A. Building and Installing from rubyforge's Subversion Repository</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Indexes (nodes containing large menus)
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC86">Class, Module Method Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        An item for Class, Module, and Methods.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC87">Command Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             An item for each command name.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC88">General Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             An item for each concept.
</td></tr>
</table>



<hr size="1">
<a name="Summary"></a>
<a name="SEC1"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC_Top" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC2" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[ &lt;&lt; ]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 1. Summary of <code>ruby-debug</code> </h1>

<p>The purpose of a debugger such as ruby-debug is to allow you to see what is
going on &quot;inside&quot; a Ruby program while it executes.
</p>
<p><code>rdebug</code> can do four main kinds of things (plus other things in support of
these) to help you catch bugs in the act:
</p>
<ul>
<li>
Start your script, specifying anything that might affect its behavior.

</li><li>
Make your script stop on specified conditions.

</li><li>
Examine what has happened, when your script has stopped.

</li><li>
Change things in your script, so you can experiment with correcting the
effects of one bug and go on to learn about another.
</li></ul>

<p>Although you can use <code>rdebug</code> to invoke your Ruby programs via
a debugger at the outset, there are other ways to use and enter the
debugger. 
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC2">1.1 The First Sample <code>rdebug</code> Session (<code>list</code>, <code>display</code>, <code>print</code>, and <code>quit</code>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   A Simple Sample <code>rdebug</code> session
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC3">1.2 Sample Session 2: Delving Deeper (<code>where</code>, <code>frame</code>, <code>restart</code>, <code>autoeval</code>, <code>break</code>, <code>ps</code>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  Second Session Delving a little deeper <code>rdebug</code> session
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC4">1.3 Using the debugger in unit testing (<code>ruby-debug/debugger</code>, <code>Debugger.start</code>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   Using the debugger in unit testing
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC5">1.4 How debugging Ruby may be different than debugging other Languages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     How debugging Ruby may be different...
</td></tr>
</table>

<hr size="6">
<a name="First-Sample-Session"></a>
<a name="SEC2"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC1" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC3" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.1 The First Sample <code>rdebug</code> Session (<code>list</code>, <code>display</code>, <code>print</code>, and <code>quit</code>) </h2>

<p>You can use this manual at your leisure to read all about <code>ruby-debug</code>.
However, a handful of commands are enough to get started using the
debugger.  The following sections illustrates these commands.
</p>

<p>Below is Ruby code to compute a triangle number of a given
length.<a name="DOCF1" href="#FOOT1">(1)</a>
</p>

<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>rdebug triangle.rb</b>
triangle.rb:4 def hanoi(n,a,b,c)
(rdb:1) <b>list</b>
[-1, 8] in ./triangle.rb
   1  #!/usr/bin/env ruby
   2  # Compute the n'th triangle number - the hard way
   3  # triangle(n) == (n * (n+1)) / 2
=&gt; 4  def triangle(n)
   5    tri = 0
   6    0.upto(n) do |i|
   7      tri += i
   8    end
(rdb:1) <b>l</b>
[9, 18] in ./triangle.rb
   9    return tri
   10  end
   11  
   12  puts triangle(3)
(rdb:1) <b>list 1,100</b>
[1, 100] in ./triangle.rb
   1  #!/usr/bin/env ruby
   2  # Compute the n'th triangle number - the hard way
   3  # triangle(n) == (n * (n+1)) / 2
=&gt; 4  def triangle(n)
   5    tri = 0
   6    0.upto(n) do |i|
   7      tri += i
   8    end
   9    return tri
   10  end
   11  
   12  puts triangle(3)
(rdb:1) 
</pre></td></tr></table>


<p>There are lots of command options, but we don't need them for now. See
<a href="#SEC13">Options you can pass to rdebug</a> for a full list of command options.
</p>
<p>Position information consists of a filename and line number,
e.g. <code>triangle.rb:4</code>. We are currently stopped before the first
executable line of the program; this is line 4 of
<code>triangle.rb</code>. If you are used to less dynamic languages and have
used debuggers for more statically compiled languages like C, C++, or
Java, it may seem odd to be stopped before a function definition.  But
in Ruby line 4 is executed, the name <code>triangle</code> (probably) does
not exist so issuing a method call of <code>triangle</code> will raise a
&quot;method not found&quot; error.
</p>
<p>ruby-debug's prompt is <code>(rdb:<em>n</em>)</code>. The <em>n</em> is the thread
number. Here it is 1 which is usually the case for the main thread. If
the program has died and you are in post-mortem debugging, there is no
thread number. In this situation, the string <code>post-mortem</code> is
used in place of a thread number. If the program has terminated
normally, the string this position will be <code>ctrl</code>. The commands
which are available change depending on the program state.
</p>
<p>The first command, <code>list</code> (see section <a href="#SEC35">Examining Program Source Files (<samp>`list'</samp>)</a>), prints 10 lines
centered around the current line; the current line here is line 4 and
is marked by <code>=&gt;</code>, so the range the debugger would like to show
is -1..8. However since there aren't 5 lines before the current line,
those additional lines--&quot;lines&quot; -1 and 0--are dropped and we print
the remaining 8 lines.  The <code>list</code> command can be abbreviated
with <code>l</code> which is what we use next. Notice that when we use this
a second time, we continue listing from the place we last left
off. The desired range of lines this time is lines 9 to 18; but since
the program ends as line 12, only the remaining 4 lines are shown.
</p>
<p>If you want to set how many lines to print by default rather than use
the initial number of lines, 10, use the <code>set listsize</code> command
(see section <a href="#SEC64">Set/Show lines in a List command</a>). To see the entire program in one shot, we gave an
explicit starting and ending line number.
</p>
<p>If you use a front-end to the debugger such as the Emacs interface,
you probably won't use <code>list</code> all that much.
</p>
<p>Now let us step through the program.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) <b>step</b>
triangle.rb:12
puts triangle(3)
(rdb:1) <b><kbd>&lt;RET&gt;</kbd></b>
triangle.rb:5
tri = 0
(rdb:1) <b>p tri</b>
nil
(rdb:1) <b>step</b>
triangle.rb:6
0.upto(n) do |i|
(rdb:1) <b>p tri</b>
0
</pre></td></tr></table>
<p>The first <kbd>step</kbd> command (see section <a href="#SEC46">Step (<samp>`step'</samp>)</a>) runs the script one
executable unit. The second command we entered was just hitting the
return key; <code>rdebug</code> remembers the last command you entered was
<code>step</code>, so it runs that last command again.
</p>
<p>One way to print the values of variables uses <code>p</code>. (Of course,
there are of course lots of other ways too.). When we look at the
value of <code>tri</code> the first time, we see it is <code>nil</code>. Again we
are stopped <em>before</em> the assignment on line 5, and this variable
hasn't been set previously. However after issuing another &quot;step&quot;
command we see that the value is 0 as expected.
</p>
<p>If we want to see the value of <code>tri</code> every time we stop to see
how this is going to change we can give a display expression
(see section <a href="#SEC29">Executing expressions on stop (<samp>`display'</samp>, <samp>`undisplay'</samp>)</a>).
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) display tri
1: tri = 0
</pre></td></tr></table>
<p>Now let us run the program until we return from the function. However
we'll want to see which lines get run.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) <b>display i</b>
2: i =
(rdb:1) <b>set linetrace on</b>
line tracing is on.
(rdb:1) <b>finish</b>
Tracing(1):triangle.rb:7 tri += i
1: tri = 0
2: i = 0
Tracing(1):triangle.rb:7 tri += i
1: tri = 0
2: i = 1
Tracing(1):triangle.rb:7 tri += i
1: tri = 1
2: i = 2
Tracing(1):triangle.rb:7 tri += i
1: tri = 3
2: i = 3
Tracing(1):triangle.rb:9 return tri
1: tri = 6
2: i =
(rdb:1) <b>quit</b>
Really quit? (y/n) y
</pre></td></tr></table>
<p>So far, so good. A you can see from the above to get out of the
debugger, one can issue a <code>quit</code> command.
</p>
<hr size="6">
<a name="Second-Sample-Session"></a>
<a name="SEC3"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC2" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC4" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.2 Sample Session 2: Delving Deeper (<code>where</code>, <code>frame</code>, <code>restart</code>, <code>autoeval</code>, <code>break</code>, <code>ps</code>) </h2>

<p>In this section we'll introduce breakpoints, the call stack and
restarting.  So far we've been doing pretty good in that we've not
encountered a bug to fix. Let's try another simple example. Okay
here's the program.
</p>
<p>Below we will debug a simple Ruby program to solve the classic Towers
of Hanoi puzzle. It is augmented by the bane of programming: some
command-parameter processing with error checking.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>rdebug hanoi.rb</b>
hanoi.rb:3 def hanoi(n,a,b,c)
(rdb:1) <b>list 1,100</b>
[1, 100] in ./hanoi.rb
   1  #!/usr/bin/ruby
   2
=&gt; 3  def hanoi(n,a,b,c)
   4      if n-1 &gt; 0
   5         hanoi(n-1, a, c, b)
   6      end
   7      puts &quot;Move disk %s to %s&quot; % [a, b]
   8      if n-1 &gt; 0
   9         hanoi(n-1, c, b, a)
   10      end
   11  end
   12
   13  i_args=ARGV.length
   14  if i_args &gt; 1
   15      puts &quot;*** Need number of disks or no parameter&quot;
   16      exit 1
   17  end
   18
   19  n=3
   20
   21  if i_args &gt; 0
   22      begin
   23        n = ARGV[0].to_i
   24      rescue ValueError, msg:
   25          print &quot;** Expecting an integer, got: %s&quot; % ARGV[0].to_s
   26        exit 2
   27      end
   28  end
   29
   30  if n &lt; 1 or n &gt; 100
   31      puts &quot;*** number of disks should be between 1 and 100&quot;
   32      exit 2
   33  end
   34
   35  hanoi(n, :a, :b, :c)
(rdb:1)
</pre></td></tr></table>
<p>Recall in the first section I said that before the <code>def</code> is run
the method it names is undefined. Let's check that out. First let's
see what private methods we can call before running <code>def hanoi</code>
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) <b>set autoeval on</b>
autoeval is on.
(rdb:1) <b>private_methods</b>
[&quot;select&quot;, &quot;URI&quot;, &quot;local_variables&quot;, &quot;lambda&quot;, &quot;chomp&quot;, ... 
</pre></td></tr></table>
<p>The <code>set autoeval</code> (see section <a href="#SEC52">Set/Show auto-eval</a>) command causes any commands
that are not normally understood to be debugger commands to get
evaluated as though they were Ruby commands. I use this a lot, so I
set this by putting it the command file <code>.rdebugrc</code>,
see section <a href="#SEC15">Command files</a>, that gets read when <code>ruby-debug</code> starts.
</p>
<p>As showing the list output of <code>private_methods</code>, I find this kind
of list unwieldy. What you are supposed to notice here is that
method <code>hanoi</code> is not in this list. When you ask
<code>ruby-debug</code> for a list of method names via <code>method
instance</code>, it doesn't show output in this way; <code>ruby-debug</code> can
sort and put into columns lists like this using the print command, <code>ps</code>.
</p>

<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) <b>ps private_methods</b>
Array                    exit!                 puts                        warn
Float                    fail                  raise                       y
Integer                  fork                  rand
Rational                 format                readline
String                   gem_original_require  readlines
URI                      getc                  remove_instance_variable
`                        gets                  scan
abort                    global_variables      select
active_gem_with_options  gsub                  set_trace_func
at_exit                  gsub!                 singleton_method_added
autoload                 initialize            singleton_method_removed
autoload?                initialize_copy       singleton_method_undefined
binding                  iterator?             sleep
block_given?             lambda                split
callcc                   load                  sprintf
caller                   local_variables       srand
catch                    location_of_caller    sub
chomp                    loop                  sub!
chomp!                   method_missing        syscall
chop                     open                  system
chop!                    p                     test
dbg_print                pp                    throw
dbg_puts                 print                 timeout
eval                     printf                trace_var
exec                     proc                  trap
exit                     putc                  untrace_var
</pre></td></tr></table>
<p>Now let's see what happens after stepping
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) <b>private.methods.member?(&quot;hanoi&quot;)</b>
false
(rdb:1) <b>step</b>
hanoi.rb:13
i_args=ARGV.length
(rdb:1) <b>private_methods.member?(&quot;hanoi&quot;)</b>
true
(rdb:1)
</pre></td></tr></table>
<p>Okay, now where were we?
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) <b>list</b>
[8, 17] in ./hanoi.rb
   8      if n-1 &gt; 0
   9         hanoi(n-1, c, b, a)
   10      end
   11  end
   12
=&gt; 13  i_args=ARGV.length
   14  if i_args &gt; 1
   15      puts &quot;*** Need number of disks or no parameter&quot;
   16      exit 1
   17  end
(rdb:1) <b>ARGV</b>
[]
</pre></td></tr></table>
<p>Ooops. We forgot to specify any parameters to this program. Let's try
again. We can use the <code>restart</code> command here.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) <b>restart 3</b>
Re exec'ing:
        /usr/bin/rdebug hanoi.rb 3
hanoi.rb:3
def hanoi(n,a,b,c)
(rdb:1) <b>break 4</b>
Breakpoint 1 file hanoi.rb, line 4
(rdb:1) <b>continue</b>
Breakpoint 1 at hanoi.rb:4
./hanoi.rb:4 if n-1 &gt; 0
(rdb:1) <b>display n</b>
1: n = 3
(rdb:1) <b>display a</b>
2: a = a
(rdb:1) <b>undisplay 2</b>
(rdb:1) <b>display a.inspect</b>
3: a.inspect = :a
(rdb:1) <b>display b.inspect</b>
4: b.inspect = :b
(rdb:1) <b>continue</b>
Breakpoint 1 at hanoi.rb:4
./hanoi.rb:4 
if n-1 &gt; 0
1: n = 2
3: a.inspect = :a
4: b.inspect = :c
(rdb:1) <b>c</b>
Breakpoint 1 at hanoi.rb:4
./hanoi.rb:4 
if n-1 &gt; 0
1: n = 1
3: a.inspect = :a
4: b.inspect = :b
(rdb:1) <b>where</b>
--&gt; #0 Object.hanoi(n#Fixnum, a#Symbol, b#Symbol, c#Symbol) at line hanoi.rb:4
    #1 Object.-(n#Fixnum, a#Symbol, b#Symbol, c#Symbol) at line hanoi.rb:5
    #2 Object.-(n#Fixnum, a#Symbol, b#Symbol, c#Symbol) at line hanoi.rb:5
    #3 at line hanoi.rb:35
(rdb:1) 
</pre></td></tr></table>
<p>In the above we added a new command, <code>break</code>
(see section <a href="#SEC42">Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a>) which indicates to go into the debugger just
before that line of code is run. And <code>continue</code> resumes
execution.  Notice the difference between <code>display a</code> and
<code>display a.inspect</code>. An implied string conversion is performed on
the expression after it is evaluated. To remove a display expression
we used <code>undisplay</code> is used. If we give a display number, just
that display expression is removed.
</p>
<p>Above we also used a new command <code>where</code> (see section <a href="#SEC39">Backtraces (<samp>`where'</samp>)</a> to
show the call stack. In the above situation, starting from the bottom
line we see we called the hanoi from line 35 of the file
<code>hanoi.rb</code> and the hanoi method called itself two more times at
line 5.
</p>
<p>In the call stack we show the file line position in the same format
when we stop at a line. Also we see the names of the parameters and
the types that those parameters <em>currently</em> have. It's possible
that when the program was called the parameter had a different type,
since the types of variables can change dynamically. You alter the
style of what to show in the trace (see section <a href="#SEC57">Set/Show call style</a>).
</p>
<p>Let's explore a little more. Now were were we? 
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) <b>list</b>
   1  #!/usr/bin/ruby
   2
   3  def hanoi(n,a,b,c)
=&gt; 4      if n-1 &gt; 0
   5         hanoi(n-1, a, c, b)
   6      end
   7      puts &quot;Move disk %s to %s&quot; % [a, b]
   8      if n-1 &gt; 0
(rdb:1) <b>undisplay</b>
Clear all expressions? (y/n) <b>y</b>
(rdb:1) <b>i_args</b>
NameError Exception: undefined local variable or method `i_args' for main:Object
(rdb:1) <b>frame -1</b>
#3 at line hanoi.rb:35
(rdb:1) <b>i_args</b>
1
(rdb:1) <b>p n</b>
3
(rdb:1) <b>down 2</b>
#2 Object.-(n#Fixnum, a#Symbol, b#Symbol, c#Symbol) at line hanoi.rb:5
(rdb:1) <b>p n</b>
2
</pre></td></tr></table>
<p>Notice in the above to get the value of variable <code>n</code>, I have to
use a print command like <code>p n</code>; If I entered just <code>n</code>, that
would be taken to mean the debugger command &quot;next&quot;. In the current
scope, variable <code>i_args</code> is not defined. However I can change to
the top-most frame by using the <code>frame</code> command. Just as with
arrays, -1 means the last one. Alternatively using frame number 3
would have been the same thing; so would issuing <code>up 3</code>.
</p>
<p>Note that in the outside frame 3, the value of <code>i_args</code> can be
shown. Also note that the value of variable <code>n</code> is different.
</p>
<hr size="6">
<a name="Unit-Testing-Session"></a>
<a name="SEC4"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC3" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC5" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.3 Using the debugger in unit testing (<code>ruby-debug/debugger</code>, <code>Debugger.start</code>) </h2>

<p>In the previous sessions we've been calling the debugger right at the
outset. I confess that this mode of operation is usually not how I use
the debugger.
</p>
<p>There are a number of situations where calling the debugger at the outset is
impractical for a couple of reasons.
</p>
<ol>
<li> 
The debugger just doesn't work when run at the outset.  By necessity
any debugging changes to the behavior or the program in slight and
subtle ways, and sometimes this can hinder finding the bugs.
</li><li> 
There's a lot of code which that needs to get run before the part you
want to inspect. Running this code takes time and you don't the
overhead of the debugger in this first part.
</li></ol>

<p>In this section we'll delve show how to enter the code in the middle
of your program, while delving more into the debugger operation.
</p>
<p>In this section we will also use unit testing. Using unit tests will
greatly reduce the amount of debugging needed while at the same time
increase the quality of your program.
</p>
<p>What we'll do is take the <code>triangle</code> code from the first session
and write a unit test for that. In a sense we did write a mini-test
for the program which was basically the last line where we printed the
value of triangle(3). This test however wasn't automated: the
implication is that someone would look at the output and verify that
what was printed is what was expected.
</p>
<p>And before we can turn that into something that can be
<code>required</code>, we probably want to remove that output. However I
like to keep in that line so that when I look at the file, I have an
example of how to run it.  Therefore we will conditionally run this
line if that file is invoked directly, but skip it if it is
not.<a name="DOCF2" href="#FOOT2">(2)</a>
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">  if __FILE__ == $0 
    puts triangle(3)
  end
</pre></td></tr></table>
<p>Let's call this file <code>tri2.rb</code>.
</p>
<p>Okay, we're now ready to write our unit test. We'll use
<code>&quot;test/unit&quot;</code> which comes with the standard Ruby distribution.
Here's the test code:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  #!/usr/bin/env ruby
  require 'test/unit'
  require 'tri2.rb'

  class TestTri &lt; Test::Unit::TestCase
    def test_basic
     solutions = []
     0.upto(5) do |i|
        solutions &lt;&lt; triangle(i)
      end
      assert_equal([0, 1, 3, 6, 10, 15], solutions,
                   'Testing the first 5 triangle numbers')
    end
  end
</pre></td></tr></table>
<p>If you run it will work. However if you run <code>rdebug</code> initially,
you will not get into the test, because <code>test/unit</code> wants to be
the main program. So here is a situation where one may need to modify
the program to add an explicit call to the debugger.<a name="DOCF3" href="#FOOT3">(3)</a>
</p>
<p>One way to do this is to add the following before the place you want
to stop:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">  require 'rubygems'
  require 'ruby-debug/debugger'
</pre></td></tr></table><p>The line <code>require &quot;rubygems&quot;</code> is needed if <code>ruby-debug</code> is
installed as a Ruby gem.
</p>
<p>Let's add this code just after entering <code>test_basic</code>:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">  ... 
  def test_basic
    <b>require &quot;rubygems&quot;</b>
    <b>require &quot;ruby-debug/debugger&quot;</b>
    solutions = []
   ...
</pre></td></tr></table>
<p>Now we run the program..
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">  $ <b>ruby test-tri.rb</b>
  Loaded suite test-tri
  Started
  test-tri.rb:9
  solutions = []
  (rdb:1)
</pre></td></tr></table><p>and we see that we are stopped at line 9 just before the
initialization of the list <code>solutions</code>.
</p>
<p>Now let's see where we are...
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) <b>where</b>
--&gt; #0 TestTri.test_basic at line /home/rocky/ruby/test-tri.rb:9
(rdb:1) 
</pre></td></tr></table>
<p>Something seems wrong here; <code>TestTri.test_basic</code> indicates that
we are in class <code>TestTri</code> in method <code>test_basic</code>. However we
don't see the call to this like we did in the last example when we
used the <code>where</code> command. This is because the debugger really
didn't spring into existence until after we already entered that
method, and Ruby doesn't keep call stack information around in a
way that will give the information we show when running <code>where</code>.
</p>
<p>If we want call stack information, we have to turn call-stack tracking
on <em>beforehand</em>. This is done by adding <code>Debugger.start</code>.
</p>
<p>Here's what our test program looks like so after we modify it to start
tracking calls from the outset
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">#!/usr/bin/env ruby
require 'test/unit'
require 'tri2.rb'
require 'rubygems'
<b>Debugger.start</b>

class TestTri &lt; Test::Unit::TestCase
  def test_basic
    <b>debugger</b>
    solutions = []
    0.upto(5) do |i|
      solutions &lt;&lt; triangle(i)
    end
    assert_equal([0, 1, 3, 6, 10, 15], solutions,
                 &quot;Testing the first 5 triangle numbers&quot;)
  end
end
</pre></td></tr></table>
<p>Now when we run this:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>ruby test-tri2.rb</b>
Loaded suite test-tri2
Started
test-tri2.rb:11
solutions = []
(rdb:1) <b>where</b>
--&gt; #0 TestTri.test_basic at line test-tri2.rb:11
    #1 Kernel.__send__(result#Test::Unit::TestResult) 
       at line /usr/lib/ruby/1.8/test/unit/testcase.rb:70
    #2 Test::Unit::TestCase.run(result#Test::Unit::TestResult) 
       at line /usr/lib/ruby/1.8/test/unit/testcase.rb:70
...
    #11 Test::Unit::AutoRunner.run 
       at line /usr/lib/ruby/1.8/test/unit/autorunner.rb:200
    #12 Test::Unit::AutoRunner.run(force_standalone#FalseClass, ...
       at line /usr/lib/ruby/1.8/test/unit/autorunner.rb:13
    #13 at line /usr/lib/ruby/1.8/test/unit.rb:285
(rdb:1) 
</pre></td></tr></table>
<p>Much better. But again let me emphasize that the parameter types are
those of the corresponding variables that <em>currently</em> exist, and
this might have changed since the time when the call was made. Even so
and even though we only have <em>types</em> listed, it's a pretty good
bet that when <code>Test::Unit</code> was first called, shown above as frame
12, that the values of its two parameters were <code>false</code> and
<code>nil</code>.
</p>
<hr size="6">
<a name="Debugging-Oddities"></a>
<a name="SEC5"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC4" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC6" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.4 How debugging Ruby may be different than debugging other Languages </h2>

<p>If you are used to debugging in other languages like C, C++, Perl,
Java or even Bash<a name="DOCF4" href="#FOOT4">(4)</a>, there
may be a number of things that seem or feel a little bit different and
may confuse you. A number of these things aren't oddities of the
debugger per see, so much as a difference in how Ruby works compared to
those other languages. Because Ruby works a little differently from
those other languages, writing a debugger has to also be a little
different as well if it is to be useful.
</p>
<p>In this respect, using the debugger may help you understand Ruby
better.
</p>
<p>We've already seen two examples of such differences. One difference is
the fact that we stop on method definitions or <code>def</code>'s and that's
because these are in fact executable statements. In other compiled
languages this would not happen because that's already been done when
you compile the program (or in Perl when it scans in the program). The
other difference we saw was in our inability to show call stack parameter
types without having made arrangements for the debugger to track
this. In other languages call stack information is usually available
without asking assistance of the debugger.<a name="DOCF5" href="#FOOT5">(5)</a>
</p>
<p>In this section we'll consider some other things that might throw
off new users to Ruby who are familiar with other languages and
debugging in them.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC6">1.4.1 Stack Shows Scope Nesting</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC7">1.4.2 More Frequent Evaluations per Line</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC8">1.4.3 Bouncing Around in Blocks (e.g. Iterators)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC9">1.4.4 No Parameter Values in a Call Stack</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC10">1.4.5 Lines You Can Stop At</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Stack-Shows-Scope-Nesting"></a>
<a name="SEC6"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC5" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC7" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC5" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 1.4.1 Stack Shows Scope Nesting </h3>
<p>In a backtrace, you will find more stack frames than you might in say
C.
</p>
<p>Consider another way to write the triangle program of see section <a href="#SEC2">The First Sample <code>rdebug</code> Session (<code>list</code>, <code>display</code>, <code>print</code>, and <code>quit</code>)</a>.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  1 #!/usr/bin/env ruby
  2 def triangle(n) 
  3   (0..n).inject do |sum, i| 
  4    sum +=i 
  5   end
  6 end
  7 puts triangle(3)
</pre></td></tr></table>
<p>Let's stop inside the <code>inject</code> block:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>rdebug tri3.rb</b>
(rdb:1) <b>c 4</b>
tri3.rb:4
sum +=i 
(rdb:1) <b>where</b>
--&gt; #0 Range.triangle at line tri3.rb:4
    #1 Enumerable.inject at line tri3.rb:3
    #2 Object.triangle(n#Fixnum) at line tri3.rb:3
    #3 at line tri3.rb:7
(rdb:1)
</pre></td></tr></table><p>Because a new scope was entered, it appears as a stack frame. Probably
&quot;scope&quot; frame would be a more appropriate name.
</p>
<hr size="6">
<a name="More-Frequent-Evaluations-per-Line"></a>
<a name="SEC7"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC6" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC5" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 1.4.2 More Frequent Evaluations per Line </h3>
<p>Consider this simple program to compute the Greatest Common Divisor of
two numbers:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample"> 1 #!/usr/bin/env ruby
 2 # GCD. We assume positive numbers
 3
 4 def gcd(a, b)
 5   # Make: a &lt;= b
 6  if a &gt; b
 7     a, b = [b, a]
 8  end
 9
10  return nil if a &lt;= 0
11 
12  if a == 1 or b-a == 0
13    return a
14   end
15   return gcd(b-a, a)
16 end
17
18 a, b = ARGV[0..1].map {|arg| arg.to_i}
19 puts &quot;The GCD of %d and %d is %d&quot; % [a, b, gcd(a, b)]
</pre></td></tr></table>
<p>Now let's try tracing a portion of the program to see what we get.
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>rdebug gcd.rb 3 5</b>
gcd.rb:4
def gcd(a, b)
(rdb:1) <b>step</b>
gcd.rb:18
a, b = ARGV[0..1].map {|arg| arg.to_i}
(rdb:1) <b>step</b>
gcd.rb:18
a, b = ARGV[0..1].map {|arg| arg.to_i}
(rdb:1) <b>step</b>
gcd.rb:18
a, b = ARGV[0..1].map {|arg| arg.to_i}
(rdb:1) <b>step</b>
(rdb:1) <b>break Object.gcd</b>
Breakpoint 1 at Object::gcd
(rdb:1) <b>continue</b>
Breakpoint 1 at Object:gcd
gcd.rb:4
def gcd(a, b)
(rdb:1) <b>set linetrace on</b>
line tracing is on.
(rdb:1) <b>continue</b>
Tracing(1):gcd.rb:6 if a &gt; b
Tracing(1):gcd.rb:6 if a &gt; b
Tracing(1):gcd.rb:10 return nil if a &lt;= 0
Tracing(1):gcd.rb:10 return nil if a &lt;= 0
Tracing(1):gcd.rb:12 if a == 1 or b-a == 0
Tracing(1):gcd.rb:12 if a == 1 or b-a == 0
Tracing(1):gcd.rb:15 return gcd(b-a, a)
Breakpoint 1 at Object:gcd
gcd.rb:4
def gcd(a, b)
(rdb:1) 
</pre></td></tr></table>
<p>The thing to note here is that we see lots of lines duplicated. For
example, the first line:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">Tracing(1):gcd.rb:18 a, b = ARGV[0..1].map {|arg| arg.to_i}
</pre></td></tr></table><p>appears three times. If we were to break this line into the equivalent
multi-line expression:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">a, b = ARGV[0..1].map do |arg| 
  arg.to_i
end
</pre></td></tr></table><p>we would find one stop at the first line before running <code>map</code> and
two listings of <code>arg.to_i</code>, once for each value of arg which here
is 0 and then 1. Perhaps this is is not surprising because we have a
loop here which gets run in this situation 3 times. A similar command
<code>next</code>, can also be used to skip over loops and method
calls.
</p>
<p>But what about all the duplicated <code>if</code> statements in <code>gcd</code>?
Each one is listed twice whether or not we put the <code>if</code> at the
beginning or the end. You will find this to be the case for any
conditional statement such as <code>until</code> or <code>while</code>.
</p>
<p>Each statement appears twice because we stop once before the
expression is evaluated and once after the expression is evaluated but
before the if statement takes hold. There is a bug in Ruby up to
version 1.8.6 in that we stop a second time before the evaluation, so
examining values that may have changed during the expression
evaluation doesn't work in these versions.
</p>
<p>If you are issuing a <code>step</code> command one at a time, the repetitive
nature can be little cumbersome if not annoying. So ruby-debug offers
a variant called <code>step+</code> which forces a new line on every
step. Let's try that.
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) <b>R</b>
Re exec'ing:
	/usr/bin/rdebug gcd.rb 3 5
gcd.rb:4
def gcd(a, b)
(rdb:1) <b>step+</b>
gcd.rb:18
a, b = ARGV[0..1].map {|arg| arg.to_i}
(rdb:1) <b>step+</b>
gcd.rb:19
puts &quot;The GCD of %d and %d is %d&quot; % [a, b, gcd(a, b)]
(rdb:1) <b>break Object.gcd</b>
Breakpoint 1 at Object:gcd
(rdb:1) <b>c</b>
Breakpoint 1 at Object:gcd
gcd.rb:4
def gcd(a, b)
(rdb:1) <b>set linetrace+</b>
line tracing style is different consecutive lines.
(rdb:1) <b>set linetrace on</b>
line tracing is on.
(rdb:1) <b>c</b>
Tracing(1):gcd.rb:6 if a &gt; b
Tracing(1):gcd.rb:10 return nil if a &lt;= 0
Tracing(1):gcd.rb:12 if a == 1 or b-a == 0
Tracing(1):gcd.rb:15 return gcd(b-a, a)
Breakpoint 1 at Object:gcd
gcd.rb:4
def gcd(a, b)
</pre></td></tr></table>
<p>If you want <code>step+</code> to be the default behavior when stepping,
issue the command <code>set forcestep on</code>, (see section <a href="#SEC58">Set/Show Forces Different Line Step/Next</a>). I
generally put this in my start-up file <code>.rdebugrc</code>.
</p>
<p>Similar to the difference between <code>step+</code> and <code>step</code> is
<code>set linetrace+</code>. This removes duplicate consecutive line tracing.
</p>
<p>One last thing to note above is the use of a method name to set a
breakpoint position, rather than a file and line number. Because
method <code>gcd</code> is in the outermost scope, we use <code>Object</code> as the
class name.
</p>
<hr size="6">
<a name="NOD9"></a>
<a name="SEC8"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC7" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC9" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC5" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 1.4.3 Bouncing Around in Blocks (e.g. Iterators) </h3>

<p>When debugging languages with coroutines like Python and Ruby, a
method call may not necessarily go to the first statement after the
method header. It's possible the call will continue after a
<code>yield</code> statement from a prior call. 
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"> 1 #!/usr/bin/env ruby
 2 # Enumerator for primes
 3 class SievePrime
 4   @@odd_primes = []
 5   def self.next_prime(&amp;block)
 6     candidate = 2
 7     yield candidate
 8     not_prime = false
 9     candidate += 1
10     while true do
11       @@odd_primes.each do |p|
12         not_prime = (0 == (candidate % p))
13         break if not_prime
14       end
15       unless not_prime
16         @@odd_primes &lt;&lt; candidate
17         yield candidate 
18       end
19       candidate += 2
20     end
21   end
22 end
23 SievePrime.next_prime do |prime|
24   puts prime
25   break if prime &gt; 10
26 end
</pre></td></tr></table>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>rdebug primes.rb</b>
primes.rb:3
class SievePrime
(rdb:1) <b>set linetrace on</b>
line tracing is on.
(rdb:1) <b>step 10</b>
Tracing(1):primes.rb:4 @odd_primes = []
Tracing(1):primes.rb:5 def self.next_prime(&amp;block)
Tracing(1):primes.rb:23 SievePrime.next_prime do |prime|
Tracing(1):primes.rb:6 candidate = 2
Tracing(1):primes.rb:7 yield candidate
Tracing(1):primes.rb:24 puts prime
2
Tracing(1):primes.rb:25 break if prime &gt; 10
Tracing(1):primes.rb:25 break if prime &gt; 10
Tracing(1):primes.rb:8 not_prime = false
Tracing(1):primes.rb:9 candidate += 1
primes.rb:9
candidate += 1
(rdb:1) 
</pre></td></tr></table>
<p>The loop between lines 23-26 gets interleaved between those of
<code>Sieve::next_prime</code>, lines 6-19 above. 
</p>
<p>A similar kind of thing can occur in debugging programs with many threads. 
</p>
<hr size="6">
<a name="No-Parameter-Values-in-a-Call-Stack"></a>
<a name="SEC9"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC8" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC10" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC5" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 1.4.4 No Parameter Values in a Call Stack </h3>
<p>In traditional debuggers in a call stack you can generally see the
names of the parameters and the values that were passed in.
</p>
<p>Ruby is a very dynamic language and it tries to be efficient within
the confines of the language definition. Values generally aren't taken
out of a variable or expression and pushed onto a stack. Instead a new
scope created and the parameters are given initial values. Parameter
passing is by <em>reference</em>, not by value as it is say Algol, C, or
Perl. During the execution of a method, parameter values can
change--and often do. In fact even the <em>class</em> of the object can
change.
</p>
<p>So at present, the name of the parameter shown. The call-style setting
see section <a href="#SEC57">Set/Show call style</a> can be used to set whether the name is shown or the
name and the <em>current</em> class of the object. 
</p>
<p>It has been contemplated that a style might be added which saves on
call shorter &quot;scalar&quot; types of values and the class name. 
</p>
<hr size="6">
<a name="Lines-You-Can-Stop-At"></a>
<a name="SEC10"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC9" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC5" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 1.4.5 Lines You Can Stop At </h3>
<p>As with the duplicate stops per control (e.g. <code>if</code> statement),
until tools like debuggers get more traction among core ruby
developers there are going to be weirdness. Here we describe the
stopping locations which effects the breakpoint line numbers you can
stop at. 
</p>
<p>Consider the following little Ruby program.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">'Yes it does' =~ /
(Yes) \s+
it  \s+
does
/ix 
puts $1
</pre></td></tr></table>
<p>The stopping points that Ruby records are the last two lines, lines 5
and 6. If you run <code>ruby -rtracer</code> on this file you'll see that
this is so:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ ruby -rtracer lines.rb
#0:lines.rb:5::-: /ix 
#0:lines.rb:6::-: puts $1
#0:lines.rb:6:Kernel:&gt;: puts $1
#0:lines.rb:6:IO:&gt;: puts $1
Yes#0:lines.rb:6:IO:&lt;: puts $1
#0:lines.rb:6:IO:&gt;: puts $1

#0:lines.rb:6:IO:&lt;: puts $1
#0:lines.rb:6:Kernel:&lt;: puts $1
</pre></td></tr></table>
<p>Inside <code>ruby-debug</code> you an get a list of stoppable lines for a
file using the <code>info file</code> command with the attribute
<code>breakpoints</code>.
</p>

<hr size="6">
<a name="Invocation"></a>
<a name="SEC11"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC10" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC12" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 2. Getting in and out </h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC12">2.1 Starting the debugger</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    How to enter the debugger
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC15">2.2 Command files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC16">2.3 Quitting the debugger</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    How to leave the debugger (quit, kill)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC17">2.4 Calling the debugger from inside your Ruby program</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     Calling the debugger from inside your program
</td></tr>
</table>

<p>It is also possible to enter the debugger when you have an uncaught
exception. See See also <a href="#SEC69">Post-Mortem Debugging</a>. 
</p>
<hr size="6">
<a name="Starting-the-debugger"></a>
<a name="SEC12"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC11" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC13" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.1 Starting the debugger </h2>

<p>Although one can enter ruby-debug via Emacs (described in a later section)
and possibly others interfaces, probably the most familiar thing to do
is invoke the debugger from a command line.
</p>
<p>A wrapper shell script called <code>rdebug</code> basically <code>require</code>'s
the gem package <code>ruby-debug</code> and then loads <code>rdebug</code>.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">rdebug [rdebug-options] [--] <var>ruby-script</var> <var>ruby-script-arguments...</var>
</pre></td></tr></table>
<p>If you don't need to pass dash options to your program which might get
confused with the debugger options, then you don't need to add the
<code>--</code>.
</p>
<p>To get a brief list of options and descriptions, use the <code>--help</code>
option.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>rdebug --help</b>
rdebug 0.10.1
Usage: rdebug [options] &lt;script.rb&gt; -- &lt;script.rb parameters&gt;

Options:
    -A, --annotate LEVEL             Set annotation level
    -c, --client                     Connect to remote debugger
        --cport PORT                 Port used for control commands
    -d, --debug                      Set $DEBUG=true
        --emacs                      Activates full Emacs support
        --emacs-basic                Activates basic Emacs mode
    -h, --host HOST                  Host name used for remote debugging
    -I, --include PATH               Add PATH to $LOAD_PATH
        --keep-frame-binding         Keep frame bindings
    -m, --post-mortem                Activate post-mortem mode
        --no-control                 Do not automatically start control thread
        --no-quit                    Do not quit when script finishes
        --no-rewrite-program         Do not set $0 to the program being debugged
        --no-stop                    Do not stop when script is loaded
    -p, --port PORT                  Port used for remote debugging
    -r, --require SCRIPT             Require the library, before executing your script
        --script FILE                Name of the script file to run
    -s, --server                     Listen for remote connections
    -w, --wait                       Wait for a client connection, implies -s option
    -x, --trace                      Turn on line tracing

Common options:
        --verbose                    Turn on verbose mode
        --help                       Show this message
        --version                    Print the version
    -v                               Print version number, then turn on verbose mode
</pre></td></tr></table>
<p>Options for the <code>rdebug</code> are shown in the following list.  
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC14">2.1.2 How to Set Default Command-Line Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="rdebug-command_002dline-options"></a>
<a name="SEC13"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC12" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC14" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC12" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 2.1.1 Options you can pass to rdebug </h3>

<p>You can run ruby-debug in various alternative modes--for example, as a
program that interacts directly with the program in the same process
on the same computer or via a socket to another process possibly on a
different computer. 
</p>
<p>Many options appear as a long option name, such as <code>--help</code>, and
a short one letter option name, such as <code>-h</code>. A double dash
(<code>--</code> is used to separate options which go to <code>rdebug</code> from
options that are intended to go to your Ruby script. Options (if any)
to <code>rdebug</code> should come first. If there is no possibility of the
Ruby script to be debugged getting confused with <code>rdebug</code>'s
option the double dash can be omitted.
</p>
<dl compact="compact">
<dt> <code>--help</code></dt>
<dd><a name="IDX1"></a>
<a name="IDX2"></a>
<p>This option causes <code>rdebug</code> to print some basic help and exit.
</p>
</dd>
<dt> <code>-v | --version</code></dt>
<dd><a name="IDX3"></a>
<p>This option causes <code>rdebug</code> to print its version number and exit.
</p>
</dd>
<dt> <code>-A | --annotate <var>level</var></code></dt>
<dd><a name="IDX4"></a>
<a name="IDX5"></a>
<p>Set gdb-style annotation <var>level</var>, a number. Additional information is output
automatically when program state is changed. This can be used by
front-ends such as GNU Emacs to post this updated information without
having to poll for it.
</p></dd>
<dt> <code>-c | --client</code></dt>
<dd><a name="IDX6"></a>
<a name="IDX7"></a>
<p>Connect to remote debugger. The remote debugger should have been set
up previously our you will get a connection error and <code>rdebug</code>
will terminate. 
</p>
</dd>
<dt> <code>--cport <var>port</var></code></dt>
<dd><a name="IDX8"></a>
<p>Port used for control commands.
</p>
</dd>
<dt> <code>--debug</code></dt>
<dd><a name="IDX9"></a>
<p>Set <code>$DEBUG</code> to <code>true</code>. This option is compatible with
Ruby's.
</p>
</dd>
<dt> <code>--emacs</code></dt>
<dd><p>Activates GNU Emacs mode.
Debugger output is tagged in such a way to allow GNU Emacs to track
where you are in the code.
</p>
</dd>
<dt> <code>--emacs-basic</code></dt>
<dd><p>Activates full GNU Emacs mode.
This is the equivalent of setting the options <code>--emacs-basic</code>,
<code>annotate=3</code>, <code>--no-stop</code>, <code>-no-control</code> and
<code>--post-mortem</code>.
</p>
</dd>
<dt> <code>-h | --host <var>host-address</var></code></dt>
<dd><p>Connect host address for remote debugging.
</p>
</dd>
<dt> <code>-I --include <var>PATH</var></code></dt>
<dd><a name="IDX10"></a>
<a name="IDX11"></a>
<p>Add <var>PATH</var> to <code>$LOAD_PATH</code>
</p>
</dd>
<dt> <code>--keep-frame-binding</code></dt>
<dd><a name="IDX12"></a>
<p>Bindings are used to set the proper environment in evaluating
expression inside the debugger. Under normal circumstances, I don't
believe most people will ever need this option.
</p>
<p>By default, the debugger doesn't create binding object for each frame
when the frame is created, i.e. when a call is performed. Creating a
binding is an expensive operation and has been a major source of
performance problems.
</p>
<p>Instead, the debugger creates a binding when there is a need to
evaluate expressions. The artificial binding that is created might be
different from the real one.  In particular, in performing constant
and module name resolution.
</p>
<p>However it's still possible to restore the old, slower behavior by
using this option or by setting <code>Debugger.keep_frame_binding =
true</code>. There are two possibilities for which you might want to use
this option. 
</p>
<p>First, if you think there's a bug in the evaluation of variables, you
might want to set this to see if this corrects things.
</p>
<p>Second, since the internal structures that are used here <code>FRAME</code>
and <code>SCOPE</code> are not part of the Ruby specification, it is
possible they can change with newer releases; so here this option this
may offer a remedy. (But you'll probably also have to hack the C code
since it's likely under this scenario that ruby-debug will no longer
compile.) In fact, in Ruby 1.9 these structures have changed and that
is partly why this debugger doesn't work on Ruby 1.9.
</p>
</dd>
<dt> <code>-m | --post-mortem</code></dt>
<dd><a name="IDX13"></a>
<a name="IDX14"></a>
<p>If your program raises an exception that isn't caught you can enter
the debugger for inspection of what went wrong. You may also want to
use this option in conjunction with <code>--no-stop</code>. See also 
<a href="#SEC69">Post-Mortem Debugging</a>. 
</p>
</dd>
<dt> <code>--no-control</code></dt>
<dd><a name="IDX15"></a>
<p>Do not automatically start control thread.
</p>
</dd>
<dt> <code>--no-quit</code></dt>
<dd><a name="IDX16"></a>
<p>Restart the debugger when your program terminates normally.
</p>
</dd>
<dt> <code>--no-rewrite-program</code></dt>
<dd><a name="IDX17"></a>
<p>Normally <code>rdebug</code> will reset the program name <code>$0</code> from its
name to the debugged program, and set the its name in variable
<code>$RDEBUG_0</code>. In the unlikely even you don't want this use this option.
</p>
</dd>
<dt> <code>--no-stop</code></dt>
<dd><a name="IDX18"></a>
<p>Normally the <code>rdebug</code> stops before executing the first
statement. If instead you want it to start running initially and will
perhaps break it later in the running, use this options.
</p>
</dd>
<dt> <code>-p | --port <var>port</var></code></dt>
<dd><a name="IDX19"></a>
<a name="IDX20"></a>
<p>Port used for remote debugging.
</p>
</dd>
<dt> <code>-r | --require <var>library</var></code></dt>
<dd><a name="IDX21"></a>
<a name="IDX22"></a>
<p>Require the library, before executing your script. However if the
library happened to be <code>debug</code>, we'll just ignore the require
(since we're already a debugger). This option is compatible with Ruby's.
</p>
</dd>
<dt> <code>--script <var>file</var></code></dt>
<dd><a name="IDX23"></a>
<p>Require the library, before executing your script. However if the
library hap-pend to be <code>debug</code>, we'll just ignore the require
(since we're already a debugger). This option is compatible with Ruby's.
</p>
</dd>
<dt> <code>-s | --server</code></dt>
<dd><a name="IDX24"></a>
<a name="IDX25"></a>
<p>Debug the program but listen for remote connections on the default
port or port set up via the <code>--port</code> option. See also <code>--wait</code>.
</p>
</dd>
<dt> <code>-w | --wait</code></dt>
<dd><a name="IDX26"></a>
<a name="IDX27"></a>
<p>Debug the program but stop waiting for a client connection first. This
option automatically sets <code>--server</code> option.
</p>
</dd>
<dt> <code>-x | --trace</code></dt>
<dd><a name="IDX28"></a>
<a name="IDX29"></a>
<p>Turn on line tracing.
</p>
</dd>
</dl>

<hr size="6">
<a name="rdebug-default-options"></a>
<a name="SEC14"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC13" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC15" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC12" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 2.1.2 How to Set Default Command-Line Options </h3>

<p>ruby-debug has many command-line options; it seems that some people want
to set them differently from the our defaults. For example, some
people may want <code>--no-quit --no-control</code> to be the default
behavior. One could write a wrapper script or set a shell alias to
handle this. ruby-debug has another way to do this as well. Before
processing command options if the file <code>$HOME/.rdboptrc</code> is found
it is loaded. If you want to set the defaults in some other way, you
can put Ruby code here and set variable <code>options</code> which is an
OpenStruct. For example here's how you'd set <code>-no-quit</code> and
change the default control port to 5000.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"># This file contains how you want the default options to ruby-debug
# to be set. Any Ruby code can be put here.
#
# debugger # Uncomment if you want to debug rdebug!
options.control = false
options.port = 5000
puts &quot;rocky's rdboptrc run&quot;
</pre></td></tr></table>
<p>Here are the default values in <code>options</code>
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">#&lt;OpenStruct server=false, client=false, frame_bind=false, cport=8990, tracing=false, nx=false, post_mortem=false, port=8989, verbose_long=false, annotate=nil, control=true, restart_script=nil, quit=true, no_rewrite_program=false, stop=true, script=nil, host=nil, wait=false&gt;
</pre></td></tr></table>

<hr size="6">
<a name="Command-Files"></a>
<a name="SEC15"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC14" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC16" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.2 Command files </h2>

<p>A command file for ruby-debug is a file of lines that are ruby-debug
commands.  Comments (lines starting with <kbd>#</kbd>) may also be included.
An empty line in a command file does nothing; it does not mean to repeat
the last command, as it would from the terminal.
</p>
<a name="IDX30"></a>
<a name="IDX31"></a>
<p>When you start ruby-debug, it automatically executes commands from its
<em>init files</em>, normally called <tt>`.rdebugrc'</tt>.
</p>
<p>On some configurations of ruby-debug, the init file may be known by a
different name. In particular on MS-Windows (but not cygwin)
<tt>`rdebug.ini'</tt> is used.
</p>
<p>During startup, ruby-debug does the following:
</p>
<ol>
<li>
Processes command line options and operands.

</li><li>
Reads the init file in your current directory, if any, and failing
that the home directory. The home directory is the directory named in
the <code>HOME</code> or <code>HOMEPATH</code> environment variable. 

<p>Thus, you can have more than one init file, one generic in your home
directory, and another, specific to the program you are debugging, in
the directory where you invoke ruby-debug.
</p>
</li><li>
Reads command files specified by the <samp>`--script'</samp> option.
</li></ol>

<p>You can also request the execution of a command file with the
<code>source</code> command, see section <a href="#SEC28">Running Debugger Commands (<samp>`source'</samp>)</a>.
</p>
<hr size="6">
<a name="Quitting-the-debugger"></a>
<a name="SEC16"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC15" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC17" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.3 Quitting the debugger </h2>

<p>An interrupt (often <kbd>C-c</kbd>) does not exit from ruby-debug, but
rather terminates the action of any ruby-debug
progress and returns to ruby-debug command level.  Inside a debugger
command interpreter, use <code>quit</code> command (see section <a href="#SEC24">Quitting the debugger</a>).
</p>
<p>There way to terminate the debugger is to use the <code>kill</code>
command. This does more forceful <code>kill -9</code>. It can be used in
cases where <code>quit</code> doesn't work.
</p>
<hr size="6">
<a name="Calling-from-Program"></a>
<a name="SEC17"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC16" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.4 Calling the debugger from inside your Ruby program </h2>

<p>Running a program from the debugger adds a bit of overhead and slows
down your program a little.
</p>
<p>Furthermore, by necessity, debuggers change the operation of the
program they are debugging. And this can lead to unexpected and
unwanted differences. It has happened so often that the term
&quot;Heisenbugs&quot; (see <a href="http://en.wikipedia.org/wiki/Heisenbug">http://en.wikipedia.org/wiki/Heisenbug</a>) was
coined to describe the situation where the addition of the use of a
debugger (among other possibilities) changes behavior of the program
so that the bug doesn't manifest itself anymore.
</p>
<p>There is another way to get into the debugger which adds no overhead
or slowdown until you reach the point at which you want to start
debugging. However here you must change the script and make an
explicit call to the debugger. Because the debugger isn't involved
before the first call, there is no overhead and the script will run
at the same speed as if there were no debugger.
</p>
<p>There are three parts to calling the debugger from inside the script,
&quot;requiring&quot; the debugger code, telling the debugger to start
tracking things and then making the call calling the debugger to
stop. 
</p>
<p>To get the debugger class accessible from your Ruby program:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">require 'rubygems'
require 'ruby-debug'
</pre></td></tr></table>
<p>(It is very likely that you've already require'd rubygems. If so, you
don't have to do that again.) These commands need to be done only
once.
</p>
<p>After <code>require 'ruby-debug'</code>, it's possible to set some of the
debugger variables influence preferences. For example if you want to
have <code>rdebug</code>
variable <code>Debugger.settings[:autolist]</code>. see section <a href="#SEC74"><code>Debugger.settings</code></a> has a
list of variable settings and the default values. Debugger settings
can also be set in <code>.rdebugrc</code> as debugger
commands. see section <a href="#SEC15">Command files</a>
</p>
<p>To tell the debugger to start tracking things:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">Debugger.start
</pre></td></tr></table>

<p>There is also a <code>Debugger.stop</code> to turn off debugger tracking. If
speed is crucial, you may want to start and stop this around certain
sections of code.
</p>
<p>And finally to enter the debugger:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">debugger
</pre></td></tr></table>

<p>As indicated above, when <code>debugger</code> is run a <code>.rdebugrc</code>
profile is read if that file exists.
</p>
<p>You may want to do enter the debugger at several points in the program
where there is a problem you want to investigate. And since
<code>debugger</code> is just a method call it's possible enclose it in a
conditional expression, for example:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">debugger if foo='bar' and iter_count = 20
</pre></td></tr></table>

<p>Although each step does a very specific thing which offers great
flexibility, in order to make getting into the debugger easier the
three steps have been rolled into one command:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">require &quot;ruby-debug/debugger&quot;
</pre></td></tr></table>

<hr size="6">
<a name="Debugger-Command-Reference"></a>
<a name="SEC18"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC17" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC19" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 3. <code>ruby-debug</code> Command Reference </h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC19">3.1 Command Interfaces</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       The kinds of interface used to interact with ruby-debug
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC20">3.2 Command Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           How to give commands to the ruby-debug
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC21">3.3 Command Output</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           How rdebug presents its output
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC22">3.4 Getting help (<samp>`help'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     How to ask for help (help)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC24">3.5 Controlling the debugger (<samp>`quit'</samp>, <samp>`restart'</samp>, <samp>`interrupt'</samp>, <samp>`source'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  Controlling the debugger (quit, restart, interrupt)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC29">3.6 Executing expressions on stop (<samp>`display'</samp>, <samp>`undisplay'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Executing expressions on stop (display, undisplay)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC30">3.7 Evaluating and Printing Expressions (<samp>`p'</samp>, <samp>`pp'</samp>, <samp>`putl'</samp>, <samp>`ps'</samp>, <samp>`irb'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Evaluating and Printing Expressions (p, pp, ps, pp, irb)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC34">3.8 Printing Variables (<samp>`var'</samp>, <samp>`method'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Printing Variables (var)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC35">3.9 Examining Program Source Files (<samp>`list'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     Examining Program Source Files (list)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC36">3.10 Editing Source files (<samp>`edit'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     Editing source files (edit)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC37">3.11 Examining the Stack Frame (<samp>`where'</samp>, <samp>`up'</samp>, <samp>`down'</samp>, <samp>`frame'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Examining the stack frame (where, up, down, frame)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC41">3.12 Stopping and Resuming Execution</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 Stopping and continuing (break, watch, step, cont...)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC50">3.13 ruby-debug settings (<samp>`set args'</samp>, <samp>`set autoeval'</samp>..)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      rdebug-settings (set args, set autoeval, ...)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC68">3.14 Program Information (<samp>`info'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Program Status  (info)
</td></tr>
</table>

<hr size="6">
<a name="Command-Interfaces"></a>
<a name="SEC19"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC18" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC20" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.1 Command Interfaces </h2>
<p>There are several ways one can talk to <code>ruby-debug</code> and get
results. The simplest way is via a command-line interface directly
talking to the debugger. This is referred to below as a &quot;Local
Interface&quot;. It's also possible to run the debugger and set up a port
by which some other process can connect and control the debug
session. This is called a &quot;Remote Interface&quot;. When you want to gain
access to a remote interface you need to run <code>ruby-debug</code> using a
&quot;Control Interface&quot;. This interface might not be the same process as
the process running the debugged program and might not even be
running on the same computer.
</p>
<p>Other front-ends may use one of these and build on top and provide
other (richer) interfaces. Although many of the commands are available
on all interfaces some are not. Most of the time in this manual when
we talk about issuing commands describing the responses elicited,
we'll assume we are working with the local interface.
</p>
<hr size="6">
<a name="Command-Syntax"></a>
<a name="SEC20"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC19" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC21" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.2 Command Syntax </h2>
<p>Usually a command is put on a single line. There is no limit on how long
it can be.  It starts with a command name, which is followed by
arguments whose meaning depends on the command name.  For example, the
command <code>step</code> accepts an argument which is the number of times to
step, as in <code>step 5</code>.  You can also use the <code>step</code> command with no
arguments.  Some commands do not allow any arguments.
</p>
<p>Multiple commands can be put on a line by separating each with a
semicolon (<code>;</code>).
</p>
<p>A blank line as input (typing just <kbd>&lt;RET&gt;</kbd>) means to repeat the
previous command.  
</p>
<p>In the &quot;local&quot; interface, the Ruby Readline module is used. It
handles line editing and retrieval of previous commands. Up arrow, for
example moves to the previous debugger command; down arrow moves to
the next more recent command (provided you are not already at the last
command). Command history is saved in file <code>.rdebug_hist</code>. A
limit is put on the history size. You can see this with the <code>show
history size</code> command. See <a href="#SEC60">Command History Parameters</a> for history parameters.
</p>
<hr size="6">
<a name="Command-Output"></a>
<a name="SEC21"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC20" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC22" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.3 Command Output </h2>

<p>In the command-line interface, when <code>ruby-debug</code> is waiting for
input it presents a prompt of the form
<code>(rdb:</code><em>x</em><code>)</code>. If debugging locally, <em>x</em> will be
the thread number. Usual the main thread is 1, so often you'll see
<code>(rdb:1)</code>. In the control interface though <em>x</em> will be
<code>ctrl</code> and in post-mortem debugging <code>post-mortem</code>.
</p>
<p>In the local interface, whenever <code>ruby-debug</code> gives an error
message such as for an invalid command, or an invalid location
position, it will generally preface the message with
<code>***</code>. However if annotation mode is on that the message is put
in a <code>begin-error</code> annotation and no <code>***</code> appears.
</p>
<hr size="6">
<a name="Help"></a>
<a name="SEC22"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC21" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC23" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.4 Getting help (<samp>`help'</samp>) </h2>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC23">3.4.1 Help on Subcommands</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<p>Once inside <code>ruby-debug</code> you can always ask it for information on
its commands, using the command <code>help</code>.
</p>
<dl compact="compact">
<dd><a name="IDX32"></a>
<a name="IDX33"></a>
</dd>
<dt> <code>help</code></dt>
<dt> <code>h</code></dt>
<dd><p>You can use <code>help</code> (abbreviated <code>h</code>) with no arguments to
display a short list of named classes of commands:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) <b>help</b>
ruby-debug help v0.10.1
Type 'help &lt;command-name&gt;' for help on a specific command

Available commands:
backtrace  delete   enable  help    next  quit     show    undisplay
break      disable  eval    info    p     reload   source  up       
catch      display  exit    irb     pp    restart  step    var      
condition  down     finish  list    ps    save     thread  where    
continue   edit     frame   method  putl  set      trace 
</pre></td></tr></table>
</dd>
</dl>


<dl compact="compact">
<dt> <code>help <var>command</var></code></dt>
<dd><p>With a command name as <code>help</code> argument, ruby-debug
information on how to use that command.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) <b>help list</b>
ruby-debug help v0.10.0
l[ist]		list forward
l[ist] -	list backward
l[ist] =	list current line
l[ist] nn-mm	list given lines
* NOTE - to turn on autolist, use 'set autolist'
(rdb:1)
</pre></td></tr></table></dd>
</dl>

<hr size="6">
<a name="Help-for-Subcommands"></a>
<a name="SEC23"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC22" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC24" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC22" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.4.1 Help on Subcommands </h3>
<p>A number of commands have many sub-parameters or
<em>subcommands</em>. These include <code>info</code>, <code>set</code>,
<code>show</code>, <code>enable</code> and <code>disable</code>.
</p>
<p>When you ask for help for one of these commands, you will get help for
all of the subcommands that that command offers. Sometimes you may
want help that subcommand and to do this just follow the command with
its subcommand name. For example <code>help set annotate</code> will just
give help about the annotate command. Furthermore it will give longer
help than the summary information that appears when you ask for
help. You don't need to list the full subcommand name, but just enough
of the letters to make that subcommand distinct from others will
do. For example, <code>help set an</code> is the same as <code>help set annotate</code>.
</p>
<p>Some examples follow.
</p><table><tr><td>&nbsp;</td><td><pre class="example">(rdb:1) <b>help info</b>
Generic command for showing things about the program being debugged.
-- 
List of info subcommands:
--  
info args -- Argument variables of current stack frame
info breakpoints -- Status of user-settable breakpoints
info catch -- Exceptions that can be caught in the current stack frame
info display -- Expressions to display when program stops
info file -- Info about a particular file read in
info files -- File names and timestamps of files read in
info global_variables -- Global variables
info instance_variables -- Instance variables of the current stack frame
info line -- Line number and file name of current position in source file
info locals -- Local variables of the current stack frame
info program -- Execution status of the program
info stack -- Backtrace of the stack
info thread -- List info about thread NUM
info threads -- information of currently-known threads
info variables -- Local and instance variables of the current stack frame
</pre></td></tr></table>
<table><tr><td>&nbsp;</td><td><pre class="example">(rdb:1) <b>help info breakpoints</b>
Status of user-settable breakpoints.
Without argument, list info about all breakpoints.  With an
integer argument, list info on that breakpoint.
</pre></td></tr></table>
<table><tr><td>&nbsp;</td><td><pre class="example">(rdb:1) <b>help info br</b>
Status of user-settable breakpoints.
Without argument, list info about all breakpoints.  With an
integer argument, list info on that breakpoint.
</pre></td></tr></table>
<hr size="6">
<a name="Control"></a>
<a name="SEC24"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC23" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.5 Controlling the debugger (<samp>`quit'</samp>, <samp>`restart'</samp>, <samp>`interrupt'</samp>, <samp>`source'</samp>) </h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC25">3.5.1 Quit (<samp>`quit'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Quitting the debugger (quit)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC26">3.5.2 Restart (<samp>`restart'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   Restarting Script execution (restart)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC27">3.5.3 Interrupt (<samp>`interrupt'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Interrupting the debugger (interrupt)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC28">3.5.4 Running Debugger Commands (<samp>`source'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    Running Debugger commands (source)
</td></tr>
</table>

<hr size="6">
<a name="Quit"></a>
<a name="SEC25"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC24" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC26" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC24" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.5.1 Quit (<samp>`quit'</samp>) </h3>
<dl compact="compact">
<dd><a name="IDX34"></a>
<a name="IDX35"></a>
</dd>
<dt> <code>quit [unconditionally]</code></dt>
<dt> <code>exit</code></dt>
<dt> <code>q</code></dt>
<dd>
<p>To exit ruby-debug, use the <code>quit</code> command (abbreviated
<code>q</code>), or alias <code>exit</code>.
</p>
<p>A simple <code>quit</code> tries to terminate all threads in effect.
</p>
<p>Normally if you are in an interactive session, this command will
prompt to ask if you really want to quit. If you don't want any
questions asked, enter the &quot;unconditionally&quot;.
</p>
</dd>
</dl>

<hr size="6">
<a name="Restart"></a>
<a name="SEC26"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC25" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC27" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC24" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.5.2 Restart (<samp>`restart'</samp>) </h3>
<dl compact="compact">
<dd><a name="IDX36"></a>
<a name="IDX37"></a>
</dd>
<dt> <code>restart</code></dt>
<dt> <code>R</code> </dt>
<dd>
<p>Restart the program. This is is a re-exec - all debugger state is
lost. If command arguments are passed those are used. Otherwise the
last program arguments used in the last invocation are used.
</p>
<p>In not all cases will you be able to restart the program. First, the
program should have been invoked at the outset rather than having been
called from inside your program or invoked as a result of post-mortem
handling. 
</p>
<p>Also, since this relies on the the OS <code>exec</code> call, this command
is available only if your OS supports that <code>exec</code>; OSX for
example does not (yet).
</p></dd>
</dl>

<hr size="6">
<a name="Interrupt"></a>
<a name="SEC27"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC26" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC28" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC24" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.5.3 Interrupt (<samp>`interrupt'</samp>) </h3>
<dl compact="compact">
<dd><a name="IDX38"></a>
<a name="IDX39"></a>
</dd>
<dt> <code>interrupt</code></dt>
<dt> <code>i</code></dt>
<dd><p>Interrupt the program. Useful if there are multiple threads running.
</p></dd>
</dl>

<hr size="6">
<a name="Source"></a>
<a name="SEC28"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC27" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC29" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC24" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.5.4 Running Debugger Commands (<samp>`source'</samp>) </h3>
<dl compact="compact">
<dd><a name="IDX40"></a>
</dd>
<dt> <code>source <var>filename</var></code></dt>
<dd><p>Execute the command file <var>filename</var>.
</p>
<p>The lines in a command file are executed sequentially.  They are not
printed as they are executed.  If there is an error, execution
proceeds to the next command in the file. For information about
command files that get run automatically on startup, see section <a href="#SEC15">Command files</a>.
</p></dd>
</dl>

<hr size="6">
<a name="DisplayCommands"></a>
<a name="SEC29"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC28" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.6 Executing expressions on stop (<samp>`display'</samp>, <samp>`undisplay'</samp>) </h2>

<p>If you find that you want to print the value of an expression
frequently (to see how it changes), you might want to add it to the
<em>automatic display list</em> so that ruby-debug evaluates a statement
each time your program stops or the statement is shown in line tracing.
Each expression added to the list is given a number to identify it; to
remove an expression from the list, you specify that number.  The
automatic display looks like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) display n
1: n = 3
</pre></td></tr></table>

<p>This display shows item numbers, expressions and their current values.  
If the expression is undefined or illegal the expression will be
printed but no value will appear.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) display undefined_variable
2: undefined_variable =
(rdb:1) display 1/0
3: 1/0 = 
</pre></td></tr></table>
<p>Note: this command uses <code>to_s</code> to in expressions; for example an
array <code>[1, 2]</code> will appear as <code>12</code>. For some datatypes like
an Array, you may want to call the <code>inspect</code> method, for example
<code>display ARGV.inspect</code> rather than <code>display ARGV</code>.
</p>
<dl compact="compact">
<dd><a name="IDX41"></a>
</dd>
<dt> <code>display <var>expr</var></code></dt>
<dd><p>Add the expression <var>expr</var> to the list of expressions to display
each time your program stops or a line is printed when linetracing is
on (see section <a href="#SEC29">Executing expressions on stop (<samp>`display'</samp>, <samp>`undisplay'</samp>)</a>).
</p>
</dd>
<dt> <code>display</code></dt>
<dd><p>Display the current values of the expressions on the list, just as is
done when your program stops. 
</p>
<a name="IDX42"></a>
</dd>
<dt> <code>undisplay [<var>num</var>]</code></dt>
<dt> <code>delete display <var>num</var></code></dt>
<dd><p>Remove item number <var>num</var> from the list of expressions to display.
</p>
<a name="IDX43"></a>
</dd>
<dt> <code>info display</code></dt>
<dd><p>Show all display expressions
</p>

<a name="IDX44"></a>
</dd>
<dt> <code>disable display <var>dnums</var>&hellip;</code></dt>
<dd><p>Disable the display of item numbers <var>dnums</var>.  A disabled display
item is not printed automatically, but is not forgotten.  It may be
enabled again later.
</p>
<a name="IDX45"></a>
</dd>
<dt> <code>enable display <var>dnums</var>&hellip;</code></dt>
<dd><p>Enable display of item numbers <var>dnums</var>.  It becomes effective once
again in auto display of its expression, until you specify otherwise.
</p>
</dd>
</dl>

<hr size="6">
<a name="PrintCommands"></a>
<a name="SEC30"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC29" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC31" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.7 Evaluating and Printing Expressions (<samp>`p'</samp>, <samp>`pp'</samp>, <samp>`putl'</samp>, <samp>`ps'</samp>, <samp>`irb'</samp>) </h2>

<p>One way to examine and change data in your script is with the
<code>eval</code> command (abbreviated <code>p</code>). A similar command is
<code>pp</code> which tries to pretty print the result. Finally <code>irb</code> is
useful when you anticipate examining or changing a number of things,
and prefer not to have to preface each command, but rather work as one
does in <code>irb</code>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC31">3.7.1 Printing an expression (<samp>`eval'</samp>, <samp>`p'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          eval or print an expression (eval, p)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC32">3.7.2 Pretty-Printing an expression (<samp>`pp'</samp>, <samp>`putl'</samp>, <samp>`ps'</samp>))</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            pretty print an expression (pp, ps, putl)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC33">3.7.3 Run irb (<samp>`irb'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           running irb using the current context
</td></tr>
</table>

<hr size="6">
<a name="eval"></a>
<a name="SEC31"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC30" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.7.1 Printing an expression (<samp>`eval'</samp>, <samp>`p'</samp>) </h3>
<dl compact="compact">
<dd><a name="IDX46"></a>
<a name="IDX47"></a>
</dd>
<dt> <code>eval <var>expr</var></code></dt>
<dt> <code>p <var>expr</var></code></dt>
<dd>
<p>Use <code>eval</code> or <code>p</code> to evaluate a Ruby expression, <var>expr</var>,
same as you would if you were in <code>irb</code>. If there are many expressions
you want to look at, you may want to go into irb from the debugger.
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:p) p n
3
(rdb:1) p &quot;the value of n is #{n}&quot;
&quot;the value of n is 3&quot;
(rdb:1)
</pre></td></tr></table></dd>
</dl>

<hr size="6">
<a name="pp"></a>
<a name="SEC32"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC31" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC33" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.7.2 Pretty-Printing an expression (<samp>`pp'</samp>, <samp>`putl'</samp>, <samp>`ps'</samp>)) </h3>
<dl compact="compact">
<dt> <code>pp</code></dt>
<dd><a name="IDX48"></a>
<p>Evaluates and pretty-prints <var>expr</var>
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) <b>p $LOAD_PATH</b>
[&quot;/home/rocky/lib/ruby&quot;, &quot;/usr/lib/ruby/site_ruby/1.8&quot;, &quot;/usr/lib/ruby/site_ruby/1.8/i586-linux&quot;, &quot;/usr/lib/ruby/1.8&quot;]
(rdb:1) <b>pp $LOAD_PATH</b>
[&quot;/home/rocky/lib/ruby&quot;,
 &quot;/usr/lib/ruby/site_ruby/1.8&quot;,
 &quot;/usr/lib/ruby/site_ruby/1.8/i586-linux&quot;,
 &quot;/usr/lib/ruby/1.8&quot;]
</pre></td></tr></table><a name="IDX49"></a>
</dd>
<dt> <code>putl</code></dt>
<dd><p>If the value you want to print is an array, sometimes a columnized
list looks nicer:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) <b>putl $LOAD_PATH</b>
/home/rocky/lib/ruby                    /usr/lib/ruby/site_ruby/1.8
/usr/lib/ruby/site_ruby/1.8/i586-linux  /usr/lib/ruby/1.8
</pre></td></tr></table>
<p>Note however that entries are sorted to run down first rather than
across. So in the example above the second entry in the list is 
<code>/usr/lib/ruby/site_ruby/1.8/i586-linux</code> and the <em>third</em> entry is 
<code>/usr/lib/ruby/site_ruby/1.8</code>.
</p>
<p>If the value is not an array <code>putl</code> will just call pretty-print.
<a name="IDX50"></a>
</p></dd>
<dt> <code>ps</code></dt>
<dd><p>Sometimes you may want to print the array not only columnized, but
sorted as well. The list of debugger help commands appears this way,
and so does the output of the <code>method</code> commands.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) ps Kernel.private_methods
Digest                   initialize                  y
Pathname                 initialize_copy           
Rational                 location_of_caller        
active_gem_with_options  method_added              
alias_method             method_removed            
append_features          method_undefined          
attr                     module_function           
attr_accessor            private                   
attr_reader              protected                 
attr_writer              public                    
class_variable_get       remove_class_variable     
class_variable_set       remove_const              
define_method            remove_instance_variable  
extend_object            remove_method             
extended                 singleton_method_added    
gcd                      singleton_method_removed  
gem_original_require     singleton_method_undefined
include                  timeout                   
included                 undef_method              
</pre></td></tr></table>
<p>If the value is not an array, <code>ps</code> will just call pretty-print.
See also the <code>methods</code>.
</p></dd>
</dl>

<hr size="6">
<a name="irb"></a>
<a name="SEC33"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC32" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC34" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.7.3 Run irb (<samp>`irb'</samp>) </h3>
<dl compact="compact">
<dd><a name="IDX51"></a>
</dd>
<dt> <code>irb</code></dt>
<dd><p>Run an interactive ruby session (<code>irb</code>) with the bindings
environment set to the state you are in the program.
</p>
<p>When you leave irb and go back to the debugger command prompt we show
again the file, line and text position of the program in the same way
as when entered the debugger. If you issue a <code>list</code> without
location information, the default location used is the current line
rather than the position may have gotten updated via a prior
<code>list</code> command.
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">triangle.rb:4
def triangle(n)
(rdb:1) <b>list</b>
[-1, 8] in /home/rocky/ruby/triangle.rb
   1  #!/usr/bin/env ruby
   2  # Compute the n'th triangle number - the hard way
   3  # triangle(n) == (n * (n+1)) / 2
=&gt; 4  def triangle(n)
   5    tri = 0
   6    0.upto(n) do |i|
   7      tri += i
   8    end
<b>irb</b>
&gt;&gt; <b>(0..6).inject{|sum, i| sum +=i}</b>
=&gt; 21
&gt;&gt; <b>exit</b>
triangle.rb:4
def triangle(n)
(rdb:1) <b>list # Note we get the same line range as before going into irb</b>
[-1, 8] in /home/rocky/ruby/triangle.rb
   1  #!/usr/bin/env ruby
   2  # Compute the n'th triangle number - the hard way
   3  # triangle(n) == (n * (n+1)) / 2
=&gt; 4  def triangle(n)
   5    tri = 0
   6    0.upto(n) do |i|
   7      tri += i
   8    end
</pre></td></tr></table>
</dd>
</dl>

<hr size="6">
<a name="PrintVars"></a>
<a name="SEC34"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC33" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC35" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.8 Printing Variables (<samp>`var'</samp>, <samp>`method'</samp>) </h2>

<dl compact="compact">
<dt> <code>var const <var>object</var></code></dt>
<dd><a name="IDX52"></a>
<p>Show the constants of <var>object</var>. This is basically listing
variables and their values in <var>object</var><code>.constant</code>.
</p></dd>
<dt> <code>var instance <var>object</var></code></dt>
<dd><a name="IDX53"></a>
<p>Show the instance variables of <var>object</var>. This is basically listing
<var>object</var><code>.instance_variables</code>.
</p></dd>
<dt> <code>info instance_variables</code></dt>
<dd><a name="IDX54"></a>
<p>Show instance_variables of <code>@self</code>
</p></dd>
<dt> <code>info locals</code></dt>
<dd><a name="IDX55"></a>
<p>Show local variables
</p></dd>
<dt> <code>info globals</code></dt>
<dd><a name="IDX56"></a>
<p>Show global variables
</p></dd>
<dt> <code>info variables</code></dt>
<dd><a name="IDX57"></a>
<p>Show local and instance variables of <code>@self</code>
</p></dd>
<dt> <code>method instance <var>object</var></code></dt>
<dd><a name="IDX58"></a>
<p>Show methods of <var>object</var>. Basically this is the same as running
<code>ps object.instance_methods(false)</code> on <var>object</var>.
</p></dd>
<dt> <code>method iv <var>object</var></code></dt>
<dd><a name="IDX59"></a>
<p>Show method instance variables of <var>object</var>. Basically this is the same as running
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">  obj.instance_variables.each do |v| 
     puts &quot;%s = %s\n&quot; % [v, obj.instance_variable_get(v)]
  end  
</pre></td></tr></table><p>on <var>object</var>.
</p></dd>
<dt> <code>method <var>class-or-module</var></code></dt>
<dd><a name="IDX60"></a>
<p>Show methods of the class or module, <var>class-or-module</var>. Basically
this is the same as running <code>ps object.methods</code> on <var>class-or-module</var>.
on <var>class-or-module</var>.
</p></dd>
</dl>

<hr size="6">
<a name="List"></a>
<a name="SEC35"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC34" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.9 Examining Program Source Files (<samp>`list'</samp>) </h2>

<p>ruby-debug can print parts of your script's source.  When your script
stops, ruby-debug spontaneously prints the line where it stopped and
the text of that line. Likewise, when you select a stack frame
(see section <a href="#SEC40">Selecting a frame (<samp>`up'</samp>, <samp>`down'</samp>, <samp>`frame'</samp>)</a>) ruby-debug prints the line where execution in
that frame has stopped.  Implicitly there is a default line
location. Each time a list command is run that implicit location is
updated, so that running several list commands in succession shows a
contiguous block of program text.
</p>
<p>You can print other portions of source files by giving an explicit
position as a parameter to the list command.
</p>
<p>If you use ruby-debug through its Emacs interface, you may prefer to
use Emacs facilities to view source. 
</p>
<a name="IDX61"></a>
<a name="IDX62"></a>
<p>To print lines from a source file, use the <code>list</code> command
(abbreviated <code>l</code>).  By default, ten lines are printed. Fewer may
appear if there fewer lines before or after the current line to center
the listing around.
</p>
<p>There are several ways to specify what part of the file you want to print.
Here are the forms of the <code>list</code> command.
</p>
<dl compact="compact">
<dt> <code>list <var>line-number</var></code></dt>
<dt> <code>l <var>line-number</var></code></dt>
<dd><p>Print lines centered around line number <var>line-number</var> in the
current source file.
</p>
</dd>
<dt> <code>list</code></dt>
<dt> <code>l</code></dt>
<dd><p>Print more lines.  If the last lines printed were printed with a
<code>list</code> command, this prints lines following the last lines
printed; however, if the last line printed was a solitary line printed
as part of displaying a stack frame (see section <a href="#SEC38">Stack frames</a>), this prints lines
centered around that line.
</p>
</dd>
<dt> <code>list -</code></dt>
<dt> <code>l -</code></dt>
<dd><p>Print lines just before the lines last printed.
</p></dd>
<dt> <code>list <var>first</var>-<var>last</var></code></dt>
<dd><p>Print lines between <var>first</var> and <var>last</var> inclusive.
</p>
</dd>
<dt> <code>list =</code></dt>
<dd><p>Print lines centered around where the script is stopped.
</p></dd>
</dl>

<p>Repeating a <code>list</code> command with <kbd>RET</kbd> discards the argument,
so it is equivalent to typing just <code>list</code>.  This is more useful
than listing the same lines again.  An exception is made for an
argument of <samp>`-'</samp>; that argument is preserved in repetition so that
each repetition moves up in the source file.
</p>
<hr size="6">
<a name="Edit"></a>
<a name="SEC36"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC35" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC37" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.10 Editing Source files (<samp>`edit'</samp>) </h2>

<p>To edit the lines in a source file, use the <code>edit</code> command.  The
editing program of your choice is invoked with the current line set to
the active line in the program.  Alternatively, you can give a line
specification to specify what part of the file you want to print if
you want to see other parts of the program.
</p>
<p>You can customize to use any editor you want by using the
<code>EDITOR</code> environment variable. The only restriction is that your
editor (say <code>ex</code>), recognizes the following command-line syntax:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">ex +<var>number</var> file
</pre></td></tr></table><p>The optional numeric value +<var>number</var> specifies the number of the
line in the file where to start editing.  For example, to configure
ruby-debug to use the <code>vi</code> editor, you could use these commands
with the <code>sh</code> shell:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">EDITOR=/usr/bin/vi
export EDITOR
gdb &hellip;
</pre></td></tr></table><p>or in the <code>csh</code> shell,
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">setenv EDITOR /usr/bin/vi
gdb &hellip;
</pre></td></tr></table>
<dl compact="compact">
<dd><a name="IDX63"></a>
</dd>
<dt> <code>edit [<var>line specification</var>]</code></dt>
<dd><p>Edit line specification using the editor specified by the
<code>EDITOR</code> environment variable.
</p></dd>
</dl>

<hr size="6">
<a name="FrameCommands"></a>
<a name="SEC37"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC36" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC38" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.11 Examining the Stack Frame (<samp>`where'</samp>, <samp>`up'</samp>, <samp>`down'</samp>, <samp>`frame'</samp>) </h2>

<p>When your script has stopped, one thing you'll probably want to know
is where it stopped and some idea of how it got there.
</p>
<a name="IDX64"></a>
<p>Each time your script performs a function or sends a message to a
method, or enters a block, information about this action is saved.
The frame stack then is this a history of the blocks that got you to
the point that you are currently stopped at.<a name="DOCF6" href="#FOOT6">(6)</a>
</p>
<a name="IDX65"></a>
<p>One entry in call stack is <em>selected</em> by ruby-debug and many
ruby-debug
particular, whenever you ask ruby-debug
a line number or location the value is found in the selected frame.
There are special ruby-debug
are interested in. See section <a href="#SEC40">Selecting a frame</a>.
</p>
<p>When your program stops, ruby-debug automatically selects the
currently executing frame and describes it briefly, similar to the
<code>frame</code> command.
</p>
<p>After switching frames, when you issue a <code>list</code> command without
any position information, the position used is location in the frame
that you just switched between, rather than a location that got
updated via a prior <code>list</code> command.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC38">3.11.1 Stack frames</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC39">3.11.2 Backtraces (<samp>`where'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Backtraces (where)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC40">3.11.3 Selecting a frame (<samp>`up'</samp>, <samp>`down'</samp>, <samp>`frame'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Selecting a frame (up, down, frame)
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
</pre></th></tr></table>

<hr size="6">
<a name="Frames"></a>
<a name="SEC38"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC37" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC39" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC37" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.11.1 Stack frames </h3>

<p>The block stack is divided up into contiguous pieces called <em>stack
frames</em>, <em>frames</em>, or <em>blocks</em> for short; each frame/block has
a scope associated with it; It contains a line number and the
source-file name that the line refers. If the frame/block is the beginning
of a method or function it also contains the function name.
</p>
<a name="IDX66"></a>
<a name="IDX67"></a>
<a name="IDX68"></a>
<p>When your script is started, the stack has only one frame, that of the
function <code>main</code>.  This is called the <em>initial</em> frame or the
<em>outermost</em> frame.  Each time a function is called, a new frame is
made.  Each time a function returns, the frame for that function invocation
is eliminated.  If a function is recursive, there can be many frames for
the same function.  The frame for the function in which execution is
actually occurring is called the <em>innermost</em> frame.  This is the most
recently created of all the stack frames that still exist.
</p>
<a name="IDX69"></a>
<p>ruby-debug assigns numbers to all existing stack frames, starting with
zero for the innermost frame, one for the frame that called it,
and so on upward.  These numbers do not really exist in your script;
they are assigned by ruby-debug to give you a way of designating stack
frames in ruby-debug commands.
</p>
<hr size="6">
<a name="Backtrace"></a>
<a name="SEC39"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC38" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC40" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC37" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.11.2 Backtraces (<samp>`where'</samp>) </h3>

<p>A backtrace is essentially the same as the call stack: a summary of
how your script got where it is.  It shows one line per frame, for
many frames, starting with the place that you are stopped at (frame
zero), followed by its caller (frame one), and on up the stack.
</p>
<dl compact="compact">
<dd><a name="IDX70"></a>
<a name="IDX71"></a>
</dd>
<dt> <code>where</code></dt>
<dd><p>Print the entire stack frame; <code>info stack</code> is an alias for this command.
Each frame is numbered and can be referred to in the <code>frame</code>
command; <code>up</code> and <code>down</code> add or subtract respectively to
frame numbers shown.  The position of the current frame is marked with
<code>--&gt;</code>.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) where
--&gt; #0 Object.gcd(a#Fixnum, b#Fixnum) at line /tmp/gcd.rb:6
    #1 at line /tmp/gcd.rb:19
</pre></td></tr></table>
</dd>
</dl>

<hr size="6">
<a name="Selection"></a>
<a name="SEC40"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC39" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC41" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC37" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.11.3 Selecting a frame (<samp>`up'</samp>, <samp>`down'</samp>, <samp>`frame'</samp>) </h3>

<p>Commands for listing source code in your script work on whichever
stack frame is selected at the moment.  Here are the commands for
selecting a stack frame; all of them finish by printing a brief
description of the stack frame just selected.
</p>
<dl compact="compact">
<dd><a name="IDX72"></a>
</dd>
<dt> <code>up [<var>n</var>]</code></dt>
<dd><p>Move <var>n</var> frames up the stack.  For positive numbers <var>n</var>, this
advances toward the outermost frame, to higher frame numbers, to
frames that have existed longer.  Using a negative <var>n</var> is the same thing
as issuing a <code>down</code> command of the absolute value of the <var>n</var>.
Using zero for <var>n</var> does no frame adjustment, but since the current
position is redisplayed, it may trigger a resynchronization if there is
a front end also watching over things. 
</p>
<p><var>n</var> defaults to one. You may abbreviate <code>up</code> as <code>u</code>.
</p>
<a name="IDX73"></a>
</dd>
<dt> <code>down [<var>n</var>]</code></dt>
<dd><p>Move <var>n</var> frames down the stack.  For positive numbers <var>n</var>, this
advances toward the innermost frame, to lower frame numbers, to frames
that were created more recently.  Using a negative <var>n</var> is the same
as issuing a <code>up</code> command of the absolute value of the <var>n</var>.
Using zero for <var>n</var> does no frame adjustment, but since the current
position is redisplayed, it may trigger a resynchronization if there is
a front end also watching over things. 
</p>
<p><var>n</var> defaults to one.
</p></dd>
</dl>

<dl compact="compact">
<dd><a name="IDX74"></a>
<a name="IDX75"></a>
</dd>
<dt> <code>frame [<var>n</var>] [thread <var>thread-num</var>]</code></dt>
<dd><p>The <code>frame</code> command allows you to move from one stack frame to
another, and to print the stack frame you select.  <var>n</var> is the
the stack frame number;  <code>frame 0</code> then will always show the
current and most recent stack frame.
</p>
<p>If a negative number is given, counting is from the other end of the
stack frame, so <code>frame -1</code> shows the least-recent, outermost or
most &quot;main&quot; stack frame.
</p>
<p>Without an argument, <code>frame</code> prints the current stack
frame. Since the current position is redisplayed, it may trigger a
resynchronization if there is a front end also watching over
things. 
</p>
<p>If a thread number is given then we set the context for evaluating
expressions to that frame of that thread. 
</p></dd>
</dl>

<hr size="6">
<a name="Stopping"></a>
<a name="SEC41"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC40" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC42" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.12 Stopping and Resuming Execution </h2>

<p>One important use of a debugger is to stop your program <em>before</em>
it terminates, so that if your script runs into trouble you can
investigate and find out why. However should your script accidentally
continue to termination, it can be arranged for ruby-debug
the debugger without your explicit instruction. That way, you can
restart the program using the same command arguments.
</p>
<p>Inside ruby-debug, your script may stop for any of several reasons,
such as a signal, a breakpoint, or reaching a new line after a
debugger command such as <code>step</code>.  You may then examine and
change variables, set new breakpoints or remove old ones, and then
continue execution.  
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC42">3.12.1 Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Breakpoints (break, catch, delete)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC43">3.12.2 Disabling breakpoints (<samp>`disable'</samp>, <samp>`enable'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Disabling breakpoints (disable, enable)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC44">3.12.3 Break conditions (<samp>`condition'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                      Break conditions (condition)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC45">3.12.4 Resuming Execution (<samp>`step'</samp>, <samp>`next'</samp>, <samp>`finish'</samp>, <samp>`continue'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   Resuming execution (continue, step, next, finish)
</td></tr>
</table>

<hr size="6">
<a name="Breakpoints"></a>
<a name="SEC42"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC41" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC43" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC41" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.12.1 Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>) </h3>

<p>A <em>breakpoint</em> makes your script stop whenever a certain point in
the program is reached.  For each breakpoint, you can add conditions to
control in finer detail whether your script stops.  
</p>
<p>You specify the place where your script should stop with the
<code>break</code> command and its variants.
</p>
<a name="IDX76"></a>
<a name="IDX77"></a>
<p><code>ruby-debug</code> assigns a number to each breakpoint when
you create it; these numbers are successive integers starting with
one.  In many of the commands for controlling various features of
breakpoints you use the breakpoint number to say which breakpoint you
want to change. Each breakpoint may be <em>enabled</em> or
<em>disabled</em>; if disabled, it has no effect on your script until you
enable it again.
</p>

<dl compact="compact">
<dd><a name="IDX78"></a>
<a name="IDX79"></a>
</dd>
<dt> <code>break</code></dt>
<dd><p>Set a breakpoint at the current line.
</p>
</dd>
<dt> <code>break <var>linenum</var></code></dt>
<dd><p>Set a breakpoint at line <var>linenum</var> in the current source file.
The current source file is the last file whose source text was printed.
The breakpoint will stop your script just before it executes any of the
code on that line.
</p>
</dd>
<dt> <code>break <var>filename</var>:<var>linenum</var></code></dt>
<dd><p>Set a breakpoint at line <var>linenum</var> in source file <var>filename</var>.
</p>
<p>What may be a little tricky when specifying the filename is getting
the name recognized by the debugger. If you get a message the message
&quot;<code>No source file named ...</code>&quot;, then you may need to qualify the
name more fully. To see what files are loaded you can use the <code>info
files</code> or <code>info file</code> commands. If you want the name <code>rdebug</code> thinks
of as the current file, use <code>info line</code>.
</p>
<p>Here's an example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">$ <b>rdebug ~/ruby/gcd.rb 3 5</b>
/home/rocky/ruby/gcd.rb:4   # Note this is the file name
def gcd(a, b)
(rdb:1) <b>break gcd.rb:6</b>
*** No source file named gcd.rb
(rdb:1) <b>info line</b>
Line 4 of &quot;/home/rocky/ruby/gcd.rb&quot;
(rdb:1) <b>break /home/rocky/ruby/gcd.rb:6</b>
Breakpoint 1 file /home/rocky/ruby/gcd.rb, line 6
(rdb:1) <b>break ~/ruby/gcd.rb:10</b>  # tilde expansion also works
Breakpoint 2 file /home/rocky/ruby/gcd.rb, line 10
(rdb:1) <b>info file gcd.rb</b>
File gcd.rb is not cached
(rdb:1) <b>info file /home/rocky/ruby/gcd.rb</b>
File /home/rocky/ruby/gcd.rb
         19 lines
</pre></td></tr></table>
</dd>
<dt> <code>break <var>class</var>:<var>method</var></code></dt>
<dd><p>Set a breakpoint in class <var>class</var> method <var>method</var>. You can
also use a period <code>.</code> instead of a colon <code>:</code>. Note that two
colons <code>::</code> are not used. Also note a class <em>must</em> be
specified here. If the method you want to stop in is in the main class
(i.e. the class that <code>self</code> belongs to at the start of the
program), then use the name <code>Object</code>.
</p>
<a name="IDX80"></a>
<a name="IDX81"></a>
</dd>
<dt> <code>catch</code></dt>
<dd><p>Set catchpoint to an exception. Without an exception name show catchpoints.
</p>

<a name="IDX82"></a>
<a name="IDX83"></a>
<a name="IDX84"></a>
</dd>
<dt> <code>delete [<var>breakpoints</var>]</code></dt>
<dd><p>Delete the breakpoints specified as arguments. 
</p>
<p>If no argument is specified, delete all breakpoints (ruby-debug
confirmation.  You can abbreviate this command as <code>del</code>.
<a name="IDX85"></a>
<a name="IDX86"></a>
</p></dd>
<dt> <code>info breakpoints [<var>n</var>]</code></dt>
<dt> <code>info break [<var>n</var>]</code></dt>
<dd><p>Print a table of all breakpoints set and not deleted, with the
following columns for each breakpoint:
</p>
<dl compact="compact">
<dt> <em>Breakpoint Numbers (<samp>`Num'</samp>)</em></dt>
<dt> <em>Enabled or Disabled (<samp>`Enb'</samp>)</em></dt>
<dd><p>Enabled breakpoints are marked with <samp>`1'</samp>.  <samp>`0'</samp> marks breakpoints
that are disabled (not enabled).
</p></dd>
<dt> <em>File and Line (<samp>`file:line'</samp>)</em></dt>
<dd><p>The filename and line number inside that file where of breakpoint in
the script. The file and line are separated with a colon.
</p></dd>
<dt> <em>Condition</em></dt>
<dd><p>A condition (an arithmetic expression) which when true causes the
breakpoint to take effect.
</p></dd>
</dl>

<p>If a breakpoint is conditional, <code>info break</code> shows the condition on
the line following the affected breakpoint; breakpoint commands, if any,
are listed after that.
</p>
<p><code>info break</code> with a breakpoint number <var>n</var> as argument lists
only that breakpoint.
</p>
<p>Examples:
</p><table><tr><td>&nbsp;</td><td><pre class="example">(rdb:1) <b>info break</b>
Breakpoints at following places:
Num  Enb What
1    y   gcd.rb:3
2    y   gcb.rb:28 if n &gt; 1
(rdb:1) <b>info break 2</b>
2    y   gcb.rb:28 if n &gt; 1
</pre></td></tr></table></dd>
</dl>

<hr size="6">
<a name="Disabling"></a>
<a name="SEC43"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC42" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC44" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC41" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.12.2 Disabling breakpoints (<samp>`disable'</samp>, <samp>`enable'</samp>) </h3>

<p>Rather than deleting a breakpoint, you might
prefer to <em>disable</em> it.  This makes the breakpoint inoperative as if
it had been deleted, but remembers the information on the breakpoint so
that you can <em>enable</em> it again later.
</p>
<p>You disable and enable breakpoints and catchpoints with the
<code>enable</code> and <code>disable</code> commands, optionally specifying one
or more breakpoint numbers as arguments.  Use <code>info break</code> to
print a list of breakpoints and catchpoints if you do not know which
numbers to use.
</p>
<p>A breakpoint or catchpoint can have any different
states of enablement:
</p>
<ul>
<li>
Enabled.  The breakpoint stops your program.  A breakpoint set
with the <code>break</code> command starts out in this state.
</li><li>
Disabled.  The breakpoint has no effect on your program.
</li></ul>

<p>You can use the following commands to enable or disable breakpoints
and catchpoints:
</p>
<dl compact="compact">
<dd><a name="IDX87"></a>
</dd>
<dt> <code>disable <var>breakpoints</var></code></dt>
<dd><p>Disable the specified breakpoints--or all breakpoints, if none are
listed.  A disabled breakpoint has no effect but is not forgotten.  All
options such as ignore-counts, conditions and commands are remembered in
case the breakpoint is enabled again later.  You may abbreviate
<code>disable</code> as <code>dis</code>.
</p>
<a name="IDX88"></a>
</dd>
<dt> <code>enable <var>breakpoints</var></code></dt>
<dd><p>Enable the specified breakpoints (or all defined breakpoints).  They
become effective once again in stopping your program.
</p>
</dd>
</dl>

<p>Breakpoints that you set are initially enabled; subsequently, they
become disabled or enabled only when you use one of the commands
above.  (The command <code>until</code> can set and delete a breakpoint of
its own, but it does not change the state of your other breakpoints;
see <a href="#SEC45">Resuming Execution</a>.)
</p>
<hr size="6">
<a name="Conditions"></a>
<a name="SEC44"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC43" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC45" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC41" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.12.3 Break conditions (<samp>`condition'</samp>) </h3>

<p>The simplest sort of breakpoint breaks every time your script reaches
a specified place.  You can also specify a <em>condition</em> for a
breakpoint.  A condition is just a Ruby expression.  
</p>
<p>Break conditions can be specified when a breakpoint is set, by using
<samp>`if'</samp> in the arguments to the <code>break</code> command. A breakpoint
with a condition evaluates the expression each time your script
reaches it, and your script stops only if the condition is
<em>true</em>. They can also be changed at any time
with the <code>condition</code> command.
</p>

<dl compact="compact">
<dd><a name="IDX89"></a>
</dd>
<dt> <code>condition <var>bnum</var> <var>expression</var></code></dt>
<dd><p>Specify <var>expression</var> as the break condition for breakpoint
<var>bnum</var>.  After you set a condition, breakpoint <var>bnum</var> stops
your program only if the value of <var>expression</var> is true (nonzero).
</p>
</dd>
<dt> <code>condition <var>bnum</var></code></dt>
<dd><p>Remove the condition from breakpoint number <var>bnum</var>.  It becomes
an ordinary unconditional breakpoint.
</p></dd>
</dl>



<p>The debugger does not actually evaluate <var>expression</var> at the time
the <code>condition</code> command (or a command that sets a breakpoint with
a condition, like <code>break if &hellip;</code>) is given, however.
</p>
<p>Examples;
</p><table><tr><td>&nbsp;</td><td><pre class="example">condition 1 x&gt;5   # Stop on breakpoint 0 only if x&gt;5 is true.
condition 1       # Change that! Unconditionally stop on breakpoint 1.
</pre></td></tr></table>
<hr size="6">
<a name="Resuming-Execution"></a>
<a name="SEC45"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC44" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC46" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC41" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.12.4 Resuming Execution (<samp>`step'</samp>, <samp>`next'</samp>, <samp>`finish'</samp>, <samp>`continue'</samp>) </h3>

<p>A typical technique for using stepping is to set a breakpoint
(see section <a href="#SEC42">Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a>) at the beginning of the function or the section
of your script where a problem is believed to lie, run your script
until it stops at that breakpoint, and then step through the suspect
area, examining the variables that are interesting, until you see the
problem happen.
</p>
<a name="IDX90"></a>
<a name="IDX91"></a>
<a name="IDX92"></a>
<p><em>Continuing</em> means resuming program execution until your script
completes normally.  In contrast, <em>stepping</em> means executing just
one more &quot;step&quot; of your script, where &quot;step&quot; may mean either one
line of source code.  Either when continuing or when stepping,
your script may stop even sooner, due to a breakpoint or a signal.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC46">3.12.4.1 Step (<samp>`step'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          running the next statement (step)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC47">3.12.4.2 Next (<samp>`next'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          running the next statement skipping over functions (next)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC48">3.12.4.3 Finish (<samp>`finish'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        running until the return of a function or &quot;source&quot; (finish)
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC49">3.12.4.4 Continue (<samp>`continue'</samp>)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      continuing execution (continue)
</td></tr>
</table>

<hr size="6">
<a name="Step"></a>
<a name="SEC46"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC45" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC47" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC45" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="subsubsection"> 3.12.4.1 Step (<samp>`step'</samp>) </h4>
<dl compact="compact">
<dd><a name="IDX93"></a>
<a name="IDX94"></a>
</dd>
<dt> <code>step [+-] [<var>count</var>]</code></dt>
<dd><p>Continue running your program until the next logical stopping point
and return control to ruby-debug. This command is abbreviated
<code>s</code>.
</p>
<p>Like, the programming Lisp, Ruby tends implemented in a highly
expression-oriented manner. Therefore things that in other languages
that may appear to be a single statement are implemented in Ruby as
several expressions. For example, in an &quot;if&quot; statement or looping
statements a stop is made after the expression is evaluated but before
the test on the expression is made. 
</p>
<p>So it is common that a lines in the program will have several stopping
points where in other debuggers of other languages there would be only
one. Or you may have several statements listed on a line.
</p>
<p>When stepping it is not uncommon to want to go to a different line on
each step. If you want to make sure that on a step you go to a
<em>different</em> position, add a plus sign (<samp>`+'</samp>). 
</p>
<p><em>Note: step+ with a number count is not the same as issuing 
count step+ commands. Instead it uses count-1 step commands followed
by a step+ command. For example, <code>step+ 3</code> is the
same as <code>step; step; step+</code>, not <code>step+; step+; step+</code></em>
</p>
<p>If you find yourself generally wanting to use <code>step+</code> rather
than <code>step</code>, you may want to consider using <code>set
forcestep</code>, (see section <a href="#SEC58">Set/Show Forces Different Line Step/Next</a>).
</p>
<p>If you have <code>forcestep</code> set on but want to temporarily disable it
for the next step command, append a minus, or <code>step-</code>.
</p>
<p>With a count, <code>step</code> will continue running as normal, but do so
<var>count</var> times.  If a breakpoint is reached, or a signal not
related to stepping occurs before <var>count</var> steps, stepping stops
right away.
</p></dd>
</dl>

<hr size="6">
<a name="Next"></a>
<a name="SEC47"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC46" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC48" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC45" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="subsubsection"> 3.12.4.2 Next (<samp>`next'</samp>) </h4>
<dl compact="compact">
<dd><a name="IDX95"></a>
<a name="IDX96"></a>
</dd>
<dt> <code>next [+] [<var>count</var>]</code></dt>
<dd><p>This is similar to <code>step</code>, but function or method calls that
appear within the line of code are executed without stopping. As with
step, if you want to make sure that on a step you go to a
<em>different</em> position, add a plus sign (<samp>`+'</samp>).  Similarly,
appending a minus disables a <code>forcestep</code> temporarily, and an
argument <var>count</var> is a repeat count, as for <code>step</code>.
</p></dd>
</dl>

<hr size="6">
<a name="Finish"></a>
<a name="SEC48"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC47" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC49" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC45" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="subsubsection"> 3.12.4.3 Finish (<samp>`finish'</samp>) </h4>
<dl compact="compact">
<dd><a name="IDX97"></a>
</dd>
<dt> <code>finish [<var>frame-number</var>]</code></dt>
<dd><p>Execute until selected stack frame returns.  If no frame number is
given, we run until the currently selected frame returns.  The
currently selected frame starts out the most-recent frame or 0 if no
frame positioning (e.g <code>up</code>, <code>down</code> or <code>frame</code>) has
been performed. If a frame number is given we run until <var>frame</var> frames
returns.
</p>
<p>If you want instead to terminate the program and debugger entirely,
use <code>quit</code> (see section <a href="#SEC16">Quitting the debugger</a>).
</p>
<p><em>Note:\/</em> Releases before Ruby version 1.8.7 show the return line
as the first line of the method. Starting with version 1.8.7, the last
line executed will be shown as the return
line. <a href="http://rubyforge.org/tracker/?func=detail&amp;atid=22040&amp;aid=18749&amp;group_id=426">http://rubyforge.org/tracker/?func=detail&amp;atid=22040&amp;aid=18749&amp;group_id=426</a>
</p>
</dd>
</dl>

<hr size="6">
<a name="Continue"></a>
<a name="SEC49"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC48" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC45" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="subsubsection"> 3.12.4.4 Continue (<samp>`continue'</samp>) </h4>
<dl compact="compact">
<dd><a name="IDX98"></a>
<a name="IDX99"></a>
</dd>
<dt> <code>continue [<var>line-specification</var>]</code></dt>
<dt> <code>c [<var>line-specification</var>]</code></dt>
<dd><p>Resume program execution, at the address where your script last
stopped; any breakpoints set at that address are bypassed.  
</p>
<p>The optional argument <var>line-specification</var> allows you to specify a
line number to set a one-time breakpoint which is deleted when that
breakpoint is reached.
</p>
<p>Should the program stop before that breakpoint is reached, for
example, perhaps another breakpoint is reached first, in
a listing of the breakpoints you won't see this entry in the list of
breakpoints.
</p></dd>
</dl>

<hr size="6">
<a name="ruby_002ddebug-settings"></a>
<a name="SEC50"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC49" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC51" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.13 ruby-debug settings (<samp>`set args'</samp>, <samp>`set autoeval'</samp>..) </h2>

<p>You can alter the way ruby-debug interacts with you using <code>set</code>
commands. 
</p>
<p>The various parameters to <code>set</code> are given below. Each parameter
name needs to to be only enough to make it unique. For example
<code>set force</code> is a suitable abbreviation for <code>set forcestep</code>.
The letter case is not important, so <code>set FORCE</code> or <code>set
Force</code> are also suitable abbreviations.
</p>
<p>Many <code>set</code> commands are either &quot;on&quot; or &quot;off&quot;, and you can
indicate which way you want set by supplying the corresponding
word. The number 1 can be used for &quot;on&quot; and 0 for &quot;off&quot;. If none
of these is given, we will assume &quot;on&quot;. A deprecated way of turning
something off is by prefacing it with &quot;no&quot;.
</p>
<p>Each <code>set</code> command has a corresponding <code>show</code> command which
allows you to see the current value.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC51">3.13.1 Set/Show args</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 Annotation Level
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC52">3.13.2 Set/Show auto-eval</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Evaluate unrecognized commands
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC53">3.13.3 Execute &quot;list&quot; command on every breakpoint</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC54">3.13.4 Set/Show auto-irb</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Invoke IRB on every stop
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC55">3.13.5 Set/Show auto-reload</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Reload source code when changed
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC56">3.13.6 Set/Show basename</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Report file basename only showing file names
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC57">3.13.7 Set/Show call style</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Show Report file basename only showing file names
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC58">3.13.8 Set/Show Forces Different Line Step/Next</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Make sure 'next/step' commands always move to a new line
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC59">3.13.9 Set/Show Frame full path</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Display full file names in frames
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC60">3.13.10 Command History Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Generic command for showing command history parameters.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC61">3.13.11 Save frame binding on each call</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC62">3.13.12 Set/Show Line tracing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            line execution tracing
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC63">3.13.13 Set/Show Line tracing style</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           line tracing style
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC64">3.13.14 Set/Show lines in a List command</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Number of lines to try to show in a 'list' command
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC65">3.13.15 Show Post-mortem handling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Whether post-mortem handling is in effect.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC66">3.13.16 Display stack trace when 'eval' raises exception</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC67">3.13.17 Set/Show Line width</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Number of characters the debugger thinks are in a line
</td></tr>
</table>

<hr size="6">
<a name="Args"></a>
<a name="SEC51"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC50" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC52" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.1 Set/Show args </h3>

<dl compact="compact">
<dd><a name="IDX100"></a>
</dd>
<dt> <code>set args [<var>parameters</var>]</code></dt>
<dd><p>Specify the arguments to be used if your program is rerun.  If
<code>set args</code> has no arguments, <code>restart</code> executes your program
with no arguments.  Once you have run your program with arguments,
using <code>set args</code> before the next <code>restart</code> is the only way to run
it again without arguments.
</p>
<a name="IDX101"></a>
</dd>
<dt> <code>show args</code></dt>
<dd><p>Show the arguments to give your program when it is started.
</p></dd>
</dl>

<hr size="6">
<a name="Autoeval"></a>
<a name="SEC52"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC51" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC53" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.2 Set/Show auto-eval </h3>

<dl compact="compact">
<dd><a name="IDX102"></a>
</dd>
<dt> <code>set autoeval [ on | 1 | off | 0 ]</code></dt>
<dd><p>Specify that debugger input that isn't recognized as a command should
be passed to Ruby for evaluation (using the current debugged program
namespace). Note however that we <em>first</em> check input to see if it
is a debugger command and <em>only</em> if it is not do we consider it
as Ruby code. This means for example that if you have variable called
<code>n</code> and you want to see its value, you could use <code>p n</code>,
because just entering <code>n</code> will be interpreted as the debugger
&quot;next&quot; command.
</p>
<p>See also <a href="#SEC33">Run irb (<samp>`irb'</samp>)</a> and <a href="#SEC54">Set/Show auto-irb</a>.
</p>
<p>When autoeval is set on, you'll get a different error message when you
invalid commands are encountered. Here's a session fragment to show
the difference
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:1) <b>stepp</b>
Unknown command
(rdb:1) <b>set autoeval on</b>
autoeval is on.
(rdb:1) <b>stepp</b>
NameError Exception: undefined local variable or method `stepp' for ...
</pre></td></tr></table>
<a name="IDX103"></a>
</dd>
<dt> <code>show args</code></dt>
<dd><p>Shows whether Ruby evaluation of debugger input should occur or not.
</p></dd>
</dl>

<hr size="6">
<a name="Autolist"></a>
<a name="SEC53"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC52" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC54" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.3 Execute &quot;list&quot; command on every breakpoint </h3>

<hr size="6">
<a name="Autoirb"></a>
<a name="SEC54"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC53" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC55" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.4 Set/Show auto-irb </h3>

<dl compact="compact">
<dd><a name="IDX104"></a>
</dd>
<dt> <code>set autoirb [ on | 1 | off | 0 ]</code></dt>
<dd>
<p>When your program stops, normally you go into a debugger command loop
looking for debugger commands. If instead you would like to directly
go into an irb shell, set this on. See also <a href="#SEC52">Set/Show auto-eval</a> or
<a href="#SEC33">Run irb (<samp>`irb'</samp>)</a> if you tend to use debugger commands but still want Ruby
evaluation occasionally.
</p>
<a name="IDX105"></a>
</dd>
<dt> <code>show autoirb</code></dt>
<dd><p>Shows whether the debugger will go into irb on stop or not.
</p></dd>
</dl>

<hr size="6">
<a name="Autoreload"></a>
<a name="SEC55"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC54" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.5 Set/Show auto-reload </h3>
<dl compact="compact">
<dd><a name="IDX106"></a>
<p>Set this on if the debugger should check to see if the source has
changed since the last time it reread in the file if it has.
</p></dd>
</dl>

<hr size="6">
<a name="Basename"></a>
<a name="SEC56"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC55" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC57" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.6 Set/Show basename </h3>

<dl compact="compact">
<dd><a name="IDX107"></a>
</dd>
<dt> <code>set basename [ on | 1 | off | 0 ]</code></dt>
<dd><p>Source filenames are shown as the shorter &quot;basename&quot;
only. (Directory paths are omitted). This is useful in running the
regression tests and may useful in showing debugger examples as in
this text. You may also just want less verbose filename display.
</p>
<p>By default filenames are shown as with their full path.
</p>
<a name="IDX108"></a>
</dd>
<dt> <code>show basename</code></dt>
<dd><p>Shows the whether filename display shows just the file basename or not.
</p></dd>
</dl>

<hr size="6">
<a name="Callstyle"></a>
<a name="SEC57"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC56" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC58" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.7 Set/Show call style </h3>

<dl compact="compact">
<dd>
<p>Sets how you want call parameters displayed; <code>short</code> shows just
the parameter names; 
<code>tracked</code> is the most accurate but this adds
overhead. On every call, scalar values of the parameters get
saved. For non-scalar values the class is saved. 
</p></dd>
</dl>

<hr size="6">
<a name="Forcestep"></a>
<a name="SEC58"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC57" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC59" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.8 Set/Show Forces Different Line Step/Next </h3>

<dl compact="compact">
<dd><a name="IDX109"></a>
</dd>
<dt> <code>set forcestep [ on | 1 | off | 0 ]</code></dt>
<dd>
<p>Due to the interpretive, expression-oriented nature of the Ruby
Language and implementation, each line often contains many possible
stopping points, while in a debugger it is often desired to treat each
line as an individual stepping unit. 
</p>
<p>Setting forcestep on will cause each <code>step</code> or <code>next</code>
command to stop at a different line number. See also <a href="#SEC46">Step (<samp>`step'</samp>)</a> and
<a href="#SEC47">Next (<samp>`next'</samp>)</a>.
</p>
<a name="IDX110"></a>
</dd>
<dt> <code>show forcestep</code></dt>
<dd><p>Shows whether forcestep is in effect or not.
</p></dd>
</dl>

<hr size="6">
<a name="Fullpath"></a>
<a name="SEC59"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC58" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC60" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.9 Set/Show Frame full path </h3>

<hr size="6">
<a name="History"></a>
<a name="SEC60"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC59" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC61" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.10 Command History Parameters </h3>
<dl compact="compact">
<dt> <code>show commands</code></dt>
<dd><a name="IDX111"></a>
<p>Display the last ten commands in the command history.
</p>
</dd>
<dt> <code>show commands <var>n</var></code></dt>
<dd><a name="IDX112"></a>
<p>Print ten commands centered on command number <var>n</var>.
</p>
</dd>
<dt> <code>show history filename</code></dt>
<dd><a name="IDX113"></a>
<p>Show the filename in which to record the command history
(the list of previous commands of which a record is kept).
</p>
</dd>
<dt> <code>set history save [ on | 1 | off | 0 ]</code></dt>
<dd><a name="IDX114"></a>
<p>Set whether to save the history on exit.
</p>
</dd>
<dt> <code>show history save</code></dt>
<dd><a name="IDX115"></a>
<p>Show saving of the history record on exit.
</p>
</dd>
<dt> <code>set history size <var>number</var></code></dt>
<dd><a name="IDX116"></a>
<p>Set the maximum number of commands to save in the history.
</p>
</dd>
<dt> <code>show history size</code></dt>
<dd><a name="IDX117"></a>
<p>Show the size of the command history, i.e. the number of previous
commands to keep a record of.
</p></dd>
</dl>

<hr size="6">
<a name="Keepframebindings"></a>
<a name="SEC61"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC60" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC62" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.11 Save frame binding on each call </h3>

<hr size="6">
<a name="Linetrace"></a>
<a name="SEC62"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC61" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC63" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.12 Set/Show Line tracing </h3>

<dl compact="compact">
<dd><a name="IDX118"></a>
</dd>
<dt> <code>set linetrace [ on | 1 | off | 0 ]</code></dt>
<dd>
<p>Setting linetrace on will cause lines to be shown before run.
</p>
<a name="IDX119"></a>
</dd>
<dt> <code>show linetrace</code></dt>
<dd><p>Shows whether line tracing is in effect or not.
</p></dd>
</dl>

<hr size="6">
<a name="Linetrace_002b"></a>
<a name="SEC63"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC62" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC64" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.13 Set/Show Line tracing style </h3>

<dl compact="compact">
<dd><a name="IDX120"></a>
</dd>
<dt> <code>set linetrace+ [ on | 1 | off | 0 ]</code></dt>
<dd>
<p>Setting linetrace+ on will cause consecutive trace lines not to be a
duplicate of the preceding line-trace line. Note however that this
setting doesn't by itself turn on or off line tracing. 
</p>
<a name="IDX121"></a>
</dd>
<dt> <code>show linetrace</code></dt>
<dd><p>Shows whether the line tracing style is to show all lines or remove 
duplicates linetrace lines when it is a repeat of the previous line.
</p></dd>
</dl>

<hr size="6">
<a name="Listsize"></a>
<a name="SEC64"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC63" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC65" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.14 Set/Show lines in a List command </h3>

<dl compact="compact">
<dd><a name="IDX122"></a>
</dd>
<dt> <code>set listsize <var>number-of-lines</var></code></dt>
<dd><p>Set number of lines to try to show in a <code>list</code> command.
<a name="IDX123"></a>
</p></dd>
<dt> <code>show listsize</code></dt>
<dd><p>Shows the list-size setting.
</p></dd>
</dl>

<hr size="6">
<a name="Post_002dmortem"></a>
<a name="SEC65"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC64" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC66" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.15 Show Post-mortem handling </h3>
<dl compact="compact">
<dd><a name="IDX124"></a>
<p>Shows wither post-mortem debugging is in effect. Right now we don't
have the ability to change the state inside the debugger.
</p></dd>
</dl>

<hr size="6">
<a name="Trace"></a>
<a name="SEC66"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC65" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC67" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.16 Display stack trace when 'eval' raises exception </h3>

<hr size="6">
<a name="Width"></a>
<a name="SEC67"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC66" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC68" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.13.17 Set/Show Line width </h3>

<dl compact="compact">
<dd><a name="IDX125"></a>
</dd>
<dt> <code>set width <var>column-width</var></code></dt>
<dd><p>Set number of characters the debugger thinks are in a line.
We also change OS environment variable <code>COLUMNS</code>. 
<a name="IDX126"></a>
</p></dd>
<dt> <code>show width</code></dt>
<dd><p>Shows the current width setting.
</p></dd>
</dl>

<hr size="6">
<a name="Program-Information"></a>
<a name="SEC68"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC67" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.14 Program Information (<samp>`info'</samp>) </h2>

<p>This <code>info</code> command (abbreviated <code>i</code>) is for describing the
state of your program.  For example, you can list the current
parameters with <code>info args</code>, or list the breakpoints you have set
with <code>info breakpoints</code> or <code>info watchpoints</code>.  You can get
a complete list of the <code>info</code> sub-commands with <code>help
info</code>.
</p>
<dl compact="compact">
<dd><a name="IDX127"></a>

</dd>
<dt> <code>info args</code></dt>
<dd><p>Method arguments of the current stack frame.
<a name="IDX128"></a>
</p>
</dd>
<dt> <code>info breakpoints</code></dt>
<dd><p>Status of user-settable breakpoints
<a name="IDX129"></a>
</p>
</dd>
<dt> <code>info display</code></dt>
<dd><p>All display expressions.
<a name="IDX130"></a>
</p>
</dd>
<dt> <code>info files</code></dt>
<dd><p>Source files in the program.
<a name="IDX131"></a>
</p>
</dd>
<dt> <code>info file <var>filename</var> [<var>all|lines|mtime|sha1</var>]</code></dt>
<dd><p>Information about a specific file. Parameter <code>lines</code> gives the
number of lines in the file, <code>mtime</code> shows the modification time
of the file (if available), <code>sha1</code> computes a SHA1 has of the
data of the file. <code>all</code> gives all of the above information.
</p>
<a name="IDX132"></a>
</dd>
<dt> <code>info line</code></dt>
<dd><p>Line number and file name of current position in source.
<a name="IDX133"></a>
</p></dd>
<dt> <code>info locals</code></dt>
<dd><p>Local variables of the current stack frame.
<a name="IDX134"></a>
</p></dd>
<dt> <code>info program</code></dt>
<dd><p>Display information about the status of your program: whether it is
running or not and why it stopped. If an unhandled exception occurred,
the exception class and <code>to_s</code> method is called.
<a name="IDX135"></a>
</p></dd>
<dt> <code>info stack</code></dt>
<dd><p>Backtrace of the stack. An alias for <code>where</code>. See section <a href="#SEC39">Backtraces (<samp>`where'</samp>)</a>.
<a name="IDX136"></a>
</p></dd>
<dt> <code>info thread [<var>thread-number</var>] [ terse | verbose]</code></dt>
<dd><p>If no thread number is given, we list info for all
threads. <code>terse</code> and <code>verbose</code> options are possible. If terse,
just give summary thread name information. See information under <code>info threads</code> for
more detail about this summary information.
</p>
<p>If <code>verbose</code> is appended to the end of the command, then the entire
stack trace is given for each thread.
</p>
<a name="IDX137"></a>
</dd>
<dt> <code>info threads</code></dt>
<dd>
<p>List information about currently-known threads. This information
includes whether the thread is current (+), if it is suspended ($), or
ignored (!); the thread number and the top stack item. If
<code>verbose</code> is given then the entire stack frame is shown. Here is
an example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:7) info threads
  1 #&lt;Thread:0xb7d08704 sleep&gt;	./test/thread1.rb:27
 !2 #&lt;Debugger::DebugThread:0xb7782e4c sleep&gt;	
  3 #&lt;Thread:0xb777e220 sleep&gt;	./test/thread1.rb:11
  4 #&lt;Thread:0xb777e144 sleep&gt;	./test/thread1.rb:11
  5 #&lt;Thread:0xb777e07c sleep&gt;	./test/thread1.rb:11
  6 #&lt;Thread:0xb777dfb4 sleep&gt;	./test/thread1.rb:11
+ 7 #&lt;Thread:0xb777deec run&gt;	./test/thread1.rb:14
(rdb:1) 
</pre></td></tr></table>
<p>Thread 7 is the current thread since it has a plus sign in front. Thread 2 is
ignored since it has a <code>!</code>. A &quot;verbose&quot; listing of the above:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(rdb:7) info threads verbose
  1 #&lt;Thread:0xb7d08704 sleep&gt;	
	#0 Integer.join at line test/thread1.rb:27
	#1 at line test/thread1.rb:27
 !2 #&lt;Debugger::DebugThread:0xb7782e4c sleep&gt;	
  3 #&lt;Thread:0xb777e220 sleep&gt;	
	#0 sleep(count#Fixnum) at line test/thread1.rb:11
	#1 Object.fn(count#Fixnum, i#Fixnum) at line test/thread1.rb:11
	#2 at line test/thread1.rb:23
  4 #&lt;Thread:0xb777e144 sleep&gt;	
	#0 sleep(count#Fixnum) at line test/thread1.rb:11
	#1 Object.fn(count#Fixnum, i#Fixnum) at line test/thread1.rb:11
	#2 at line test/thread1.rb:23
  5 #&lt;Thread:0xb777e07c sleep&gt;	
	#0 sleep(count#Fixnum) at line test/thread1.rb:11
	#1 Object.fn(count#Fixnum, i#Fixnum) at line test/thread1.rb:11
	#2 at line test/thread1.rb:23
  6 #&lt;Thread:0xb777dfb4 sleep&gt;	
	#0 sleep(count#Fixnum) at line test/thread1.rb:11
	#1 Object.fn(count#Fixnum, i#Fixnum) at line test/thread1.rb:11
	#2 at line test/thread1.rb:23
+ 7 #&lt;Thread:0xb777deec run&gt;	
	#0 Object.fn(count#Fixnum, i#Fixnum) at line test/thread1.rb:14
	#1 at line test/thread1.rb:23
</pre></td></tr></table>
<a name="IDX138"></a>
</dd>
<dt> <code>info variables</code></dt>
<dd><p>Local and instance variables.
</p></dd>
</dl>

<hr size="6">
<a name="Post_002dMortem-Debugging"></a>
<a name="SEC69"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC68" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC70" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC18" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC70" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 4. Post-Mortem Debugging </h1>

<p>It is also to possible enter the debugger when you have an uncaught
exception that is about to terminate our program. This is called
<em>post-mortem debugging</em>. In this state many, of the debugger commands
for examining variables and moving around in the stack still
work. However some commands, such as those which imply a continuation
of running code, no longer work.
</p>
<p>The most reliable way to set up post-mortem debugging is to use the
<code>--post-mortem</code> option in invoking <code>rdebug</code>. See <a href="#SEC13">Options you can pass to rdebug</a>. This traps/wraps at the debugger &quot;load&quot; of
your Ruby script.  When this is done, your program is stopped after
the exception takes place, but before the stack has been
unraveled. (Alas, it would be nice to if one could allow resetting the
exception and continuing, but details of code in Ruby 1.8's
<code>eval.c</code> prevent this.)
</p>
<p>If however you haven't invoked <code>rdebug</code> at the outset, but
instead call <code>ruby-debug</code> from inside your program, to set up
post-mortem debugging set the <code>post_mortem</code> key in
<code>Debugger.start</code>. Here's an example modified from
<a href="http://www.datanoise.com/articles/2006/12/20/post-mortem-debugging">http://www.datanoise.com/articles/2006/12/20/post-mortem-debugging</a>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">    $ <b>cat t.rb </b>
    require 'rubygems'
    require 'ruby-debug' ; Debugger.start(:post_mortem =&gt; true)

    def t1
      raise 'test'
    end
    def t2
      t1
    end
    t2

    $ <b>ruby t.rb </b>
    t.rb:8: raise 'test'
    (rdb:post-mortem) <b>l=</b>
    [3, 12] in t.rb
       3  
       4  Debugger.start
       5  Debugger.post_mortem
       6  
       7  def t1
    =&gt; 8    raise 'test'
       9  end
       10  def t2
       11    t1
       12  end
    (rdb:post-mortem)
</pre></td></tr></table>
<p>Alternatively you can call <code>Debugger.post_mortem()</code> after rdebug has
been started. The <code>post_mortem()</code> method can be called in two
ways. Called without a block, it installs a global <code>at_exit()</code> hook
that intercepts exceptions not handled by your Ruby script. In
contrast to using the <code>--post-mortem</code> option, when this hook
occurs after the call stack has been rolled back. (I'm not sure if
this in fact makes any difference operationally; I'm just stating it
because that's how it works.)
</p>
<p>If you know that a particular block of code raises an exception you
can enable post-mortem mode by wrapping this block inside a
<code>Debugger.post_mortem</code> block
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">def offender
  1/0 
end
...
require &quot;ruby-gems&quot;
require &quot;ruby-debug&quot;
Debugger.post_mortem do
  ...
  offender
  ...
end
</pre></td></tr></table>

<p>Once inside the debugger in post-mortem debugging, the prompt should
be <code>(rdb:post-mortem)</code>.
</p>
<hr size="6">
<a name="Debugger-Module-and-Class"></a>
<a name="SEC70"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC69" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC71" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC69" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 5. The Debugger Module and Class </h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC71">5.1 The Debugger Module</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            ruby-debug's Debugger module
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC75">5.2 The <code>Debugger</code> Class</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Debugger class
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC78">5.3 Additions to <code>Kernel</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Routines added to Kernel
</td></tr>
</table>

<hr size="6">
<a name="Debugger-Module"></a>
<a name="SEC71"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC70" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC70" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC70" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.1 The Debugger Module </h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC72">5.1.1 <code>Debugger.start</code>, <code>Debugger.started?</code>, <code>Debugger.stop</code>, <code>Debugger.run_script</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC73">5.1.2 <code>Debugger.context</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC74">5.1.3 <code>Debugger.settings</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Debugger_002erun"></a>
<a name="SEC72"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC71" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC73" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC70" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC71" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.1.1 <code>Debugger.start</code>, <code>Debugger.started?</code>, <code>Debugger.stop</code>, <code>Debugger.run_script</code> </h3>

<p>In order to provide better debugging information regarding the stack
frame(s) across all threads, ruby-debug has to intercept each call,
save some information and on return remove it. Possibly, in Ruby 1.9
possibly this will not be needed. Therefore one has to issue call to
indicate start saving information and another call to stop. Of course,
If you call ruby-debug from the outset via <code>rdebug</code> this is done
for you.
</p>
<dl compact="compact">
<dt> <code>Debugger.start([<var>options</var>]) [<var>block</var>]</code></dt>
<dd><a name="IDX139"></a>
<a name="IDX140"></a>
<p>Turn on add additional instrumentation code to facilitate debugging. A
system even table hook is installed and some variables are set up to
access thread frames.
</p>
<p>This needs to be done before entering the debugger; therefore a call
to the debugger issue a <code>Debugger.start</code> call if necessary.
</p>
<p>If called without a block, <code>Debugger.start</code>returns <code>true</code> if
the debugger was already started. But if you want to know if the
debugger has already been started <code>Debugger.started?</code> can tell
you.
</p>
<p>If a block is given, the debugger is started and <code>yields</code> to
block. When the block is finished executing, the debugger stopped with
the <code>Debugger.stop method</code>. To completely stop the debugger and remove
</p>
<p>But if you want to completely stop debugger, you must call
<code>Debugger.stop</code> as many times as you called Debugger.start
method.
</p>
<p>The first time Debugger.start is called there is also some additional
setup to make the <code>restart</code> command work. In particular, <code>$0</code> and
<code>ARGV</code> are used to set internal debugger variables. 
</p>
<p>Therefore you should make try to make sure that when
<code>Debugger.start</code> is called neither of these variables has been
modified. If instead you don't want this behavior you can pass an
options has and set the <code>:init</code> key to <code>false</code>. That is
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">  Debugger.start(:init =&gt; false) # or Debugger.start({:init =&gt; false})
</pre></td></tr></table>
<p>If you want post-mortem debugging, you can also supply
<code>:post_mortem =&gt; true</code> in <code>Debugger.start</code>.
</p>
</dd>
<dt> <code>Debugger.started?</code></dt>
<dd><a name="IDX141"></a>
<p>Boolean. Return <code>true</code> if debugger has been started.
</p>
</dd>
<dt> <code>Debugger.stop</code></dt>
<dd><a name="IDX142"></a>
<p>Turn off instrumentation to allow debugging. Return <code>true</code> is returned
if the debugger is disabled, otherwise it returns <code>false</code>.
<em>Note that if you want to stop debugger, you must call Debugger.stop
as many times as you called the <code>Debugger.start</code> method.</em>
</p>
</dd>
<dt> <code>Debugger.run_script(<var>debugger-command-file</var>, out = handler.interface)</code></dt>
<dd><a name="IDX143"></a>
<p>Reads/runs the given file containing debugger commands. <code>.rdebugrc</code> is run this way.
</p>
</dd>
<dt> <code>Debugger.last_exception</code></dt>
<dd><a name="IDX144"></a>
<p>If not <code>nil</code>, this contains <code>$!</code> from the last exception.
</p>
</dd>
</dl>

<hr size="6">
<a name="Debugger_002econtext"></a>
<a name="SEC73"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC72" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC74" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC70" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC71" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.1.2 <code>Debugger.context</code> </h3>
<p>As mentioned previously, <code>Debugger.start</code> instruments additional
information to be obtained about the current block/frame stack. Here
we describe these additional <code>Debugger.context</code> methods. 
</p>
<p>Were a frame position is indicated, it is optional. The top or current frame 
position (position zero) is used if none is given.
</p>
<dl compact="compact">
<dt> <code>Debugger.context.frame_args [<var>frame-position=0</var>]</code></dt>
<dd><a name="IDX145"></a>
<p>If track_frame_args? is true, return information saved about call
arguments (if any saved) for the given frame position.
</p>
</dd>
<dt> <code>Debugger.context.frame_args_info [<var>frame-position=0</var>]</code></dt>
<dd><a name="IDX146"></a>

</dd>
<dt> <code>Debugger.context.frame_class [<var>frame-position=0</var>]</code></dt>
<dd><a name="IDX147"></a>
<p>Return the class of the current frame stack.
</p>
</dd>
<dt> <code>Debugger.context.frame_file [<var>frame-position=0</var>]</code></dt>
<dd><a name="IDX148"></a>
<p>Return the filename of the location of the indicated frame position.
</p>
</dd>
<dt> <code>Debugger.context.frame_id [<var>frame-position=0</var>]</code></dt>
<dd><a name="IDX149"></a>
<p>Same as <code>Debugger.context.method</code>.
</p>
</dd>
<dt> <code>Debugger.context.frame_line [<var>frame-position=0</var>]</code></dt>
<dd><a name="IDX150"></a>
<p>Return the filename of the location of the indicated frame position.
</p>
</dd>
<dt> <code>Debugger.context.frame_method [<var>frame-position=0</var>]</code></dt>
<dd><a name="IDX151"></a>
<p>Symbol of the method name of the indicated frame position.
</p>
</dd>
<dt> <code>Debugger.context.stack_size</code></dt>
<dd><a name="IDX152"></a>
<p>Return the number the size of the frame stack. Note this may be less
that the actual frame stack size if debugger recording
(<code>Debugger.start</code>) was turned on at after some blocks were added
and not finished when the <code>Debugger.start</code> was issued.
</p></dd>
</dl>

<hr size="6">
<a name="Debugger_002esettings"></a>
<a name="SEC74"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC73" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC75" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC70" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC71" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.1.3 <code>Debugger.settings</code> </h3>
<p>Symbols listed here are keys into the Array <code>Debugger.settings</code>.
These can be set any time after the <code>ruby-debug</code> is loaded. For example:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">  require &quot;ruby-debug/debugger&quot;
  Debugger.settings[:autoeval] = true  # try eval on unknown debugger commands
  Debugger.listsize = 20  # Show 20 lines in a list command
</pre></td></tr></table>
<dl compact="compact">
<dt> <code>:argv</code></dt>
<dd><p>Array of String. <code>argv[0]</code> is the debugged program name and
<code>argv[1..-1]</code> are the command arguments to it.
</p></dd>
<dt> <code>:autoeval</code></dt>
<dd><p>Boolean. True if auto autoeval on. See section <a href="#SEC52">Set/Show auto-eval</a>.
</p></dd>
<dt> <code>:autoirb</code></dt>
<dd><p>Fixnum: 1 if on or 0 if off. See section <a href="#SEC54">Set/Show auto-irb</a>.
</p></dd>
<dt> <code>:autolist</code></dt>
<dd><p>Fixnum: 1 if on or 0 if off.
</p></dd>
<dt> <code>:basename</code></dt>
<dd><p>Boolean. True if basename on. See section <a href="#SEC56">Set/Show basename</a>.
</p></dd>
<dt> <code>:callstyle</code></dt>
<dd><p>Symbol: <code>:short</code> or <code>:last</code>. See section <a href="#SEC57">Set/Show call style</a>.
</p></dd>
<dt> <code>:debuggertesting</code></dt>
<dd><p>Boolean. True if currently testing the debugger.
</p></dd>
<dt> <code>:force_stepping</code></dt>
<dd><p>Boolean. True if stepping should go to a line different from the last
step. See section <a href="#SEC58">Set/Show Forces Different Line Step/Next</a>.
</p></dd>
<dt> <code>:full_path</code></dt>
<dd><p>Boolean. See section <a href="#SEC59">Set/Show Frame full path</a>.
</p></dd>
<dt> <code>:listsize</code></dt>
<dd><p>Fixnum. Number of lines to show in a <code>list</code> command. See section <a href="#SEC64">Set/Show lines in a List command</a>.
</p></dd>
<dt> <code>:reload_source_on_change</code></dt>
<dd><p>Boolean. True if we should reread the source every time it changes. See section <a href="#SEC55">Set/Show auto-reload</a>.
</p></dd>
<dt> <code>:stack_trace_on_error</code></dt>
<dd><p>Boolean. True if we should produce a stack trace on error. See section <a href="#SEC66">Display stack trace when 'eval' raises exception</a>.
</p></dd>
<dt> <code>:width</code></dt>
<dd><p>Fixnum. Number of characters the debugger thinks are in a line. See section <a href="#SEC67">Set/Show Line width</a>.
</p></dd>
</dl>

<hr size="6">
<a name="Debugger-Class"></a>
<a name="SEC75"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC74" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC76" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC70" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC70" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.2 The <code>Debugger</code> Class </h2>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  Debugger::Breakpoint
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC77">5.2.2 The <code>Debugger::Context</code> Class</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     Debugger::Context
</td></tr>
</table>

<dl compact="compact">
<dt> <code>add_breakpoint(file, line, expr)</code></dt>
<dd><a name="IDX153"></a>
<p>Adds a breakpoint in file <var>file</var>, at line <var>line</var>. If
<var>expr</var> is not nil, it is evaluated and a breakpoint takes effect
at the indicated position when that expression is true. You should
verify that <var>expr</var> is syntactically valid or a <code>SyntaxError</code>
exception, and unless your code handles this the debugged program may
terminate.
</p>
</dd>
<dt> <code>remove_breakpoint(bpnum)</code></dt>
<dd><a name="IDX154"></a>
<p>When a breakpoint is added, it is assigned a number as a way to
uniquely identify it. (There can be more than one breakpoint on a
given line.) To remove a breakpoint, use <code>remove_breakpoint</code> with
breakpoint number <var>bpnum</var>.
</p>
</dd>
<dt> <code>breakpoints</code></dt>
<dd><a name="IDX155"></a>
<p>Return a list of the breakpoints that have been added but not removed.
</p></dd>
</dl>

<hr size="6">
<a name="Debugger_002eBreakpoint"></a>
<a name="SEC76"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC75" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC77" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC70" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC75" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.2.1 The <code>Debugger::Breakpoint</code> Class </h3>
<p>Breakpoint are objects in the <code>Debugger::Breakpoint</code> class. 
</p><dl compact="compact">
<dt> <code>enabled?</code></dt>
<dd><a name="IDX156"></a>
<p>Returns whether breakpoint is enabled or not.
</p>
</dd>
<dt> <code>enabled=</code></dt>
<dd><a name="IDX157"></a>
<p>Sets whether breakpoint is enabled or not.
</p>
</dd>
<dt> <code>expr</code></dt>
<dd><a name="IDX158"></a>
<p>Expression which has to be true at the point where the breakpoint is
set before we stop.
</p>
</dd>
<dt> <code>expr=</code></dt>
<dd><a name="IDX159"></a>

</dd>
<dt> <code>hit_condition</code></dt>
<dt> <code>hit_condition=</code></dt>
<dd><a name="IDX160"></a>
<a name="IDX161"></a>

</dd>
<dt> <code>hit_count</code></dt>
<dd><a name="IDX162"></a>
<p>Returns the hit count of the breakpoint.
</p>
</dd>
<dt> <code>hit_value</code></dt>
<dd><a name="IDX163"></a>
<p>Returns the hit value of the breakpoint.
</p>
</dd>
<dt> <code>hit_value=</code></dt>
<dd><a name="IDX164"></a>
<p>Sets the hit value of the breakpoint.
</p>
</dd>
<dt> <code>id</code></dt>
<dd><a name="IDX165"></a>
<p>A numeric name for the breakpoint which is used in listing breakpoints
and removing, enabling or disabling the breakpoint
</p>
</dd>
<dt> <code>pos</code></dt>
<dd><a name="IDX166"></a>
<p>Returns the line number of this breakpoint.
</p></dd>
<dt> <code>pos=</code></dt>
<dd><a name="IDX167"></a>
<p>Sets the line number of this breakpoint.
</p>
</dd>
<dt> <code>source</code></dt>
<dd><a name="IDX168"></a>
<p>Returns the file name in which the breakpoint occurs.
</p>
</dd>
<dt> <code>source=</code></dt>
<dd><a name="IDX169"></a>
<p>Sets the file name in which the breakpoint occurs.
</p></dd>
</dl>

<hr size="6">
<a name="Debugger_002eContext"></a>
<a name="SEC77"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC76" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC78" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC70" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC75" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.2.2 The <code>Debugger::Context</code> Class </h3>
<p>Callbacks in <code>Debugger:Context</code> get called when a stopping point
or an event is reached. It has information about the suspended program
which enable a debugger to inspect the frame stack, evaluate variables
from the perspective of the debugged program, and contains information
about the place the debugged program is stopped.
</p>
<dl compact="compact">
<dt> <code>at_line(<var>file</var>, <var>line</var>)</code></dt>
<dd><a name="IDX170"></a>
<p>This routine is called when the debugger encounters a &quot;line&quot; event for
which it has been indicated we want to stop at, such as by hitting a
breakpoint or by some sort of stepping.
</p>
</dd>
<dt> <code>at_return(<var>file</var>, <var>line</var>)</code></dt>
<dd><a name="IDX171"></a>
<p>This routine is called when the debugger encounters a &quot;return&quot; event for
which it has been indicated we want to stop at, such as by hitting a
<code>finish</code> statement.
</p>
</dd>
<dt> <code>debug_load(<var>file</var>, <var>stop-initially</var>)</code></dt>
<dd><a name="IDX172"></a>
<p>This method should be used to debug a file. If the file terminates
normally, <code>nil</code> is returned. If not a backtrace is returned.
</p>
<p>The <var>stop-initially</var> parameter indicates whether the program
should stop after loading. If an explicit call to the debugger is in
the debugged program, you may want to set this <code>false</code>.
</p></dd>
</dl>

<hr size="6">
<a name="Kernel-routines"></a>
<a name="SEC78"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC77" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC70" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC70" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.3 Additions to <code>Kernel</code> </h2>

<dl compact="compact">
<dt> <code>debugger [<var>steps=1</var>]</code></dt>
<dd><a name="IDX173"></a>
<p>Enters the debugger in the current thread after a stepping <var>steps</var> steps.
Before entering the debugger startup script is read.
</p>
</dd>
<dt> <code>breakpoint [<var>steps=1</var>]</code></dt>
<dd><a name="IDX174"></a>
<p>An alias for debugger.
</p>
</dd>
<dt> <code>binding_n [<var>n=0</var>]</code></dt>
<dd><a name="IDX175"></a>
<p>Returns a binding of <var>n</var>-th call frame. 
</p>
</dd>
</dl>


<hr size="6">
<a name="Using-from-Subversion"></a>
<a name="SEC79"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC78" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC80" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC70" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="appendix"> A. Building and Installing from rubyforge's Subversion Repository </h1>

<p>Here are Unix-centric instructions. If you have Microsoft Windows or
OSX some of the below may need adjusting.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC80">A.1 Prerequisites: To build the package you'll need at a minimum:</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC81">A.2 Basic Package Checkout and Installation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC82">A.3 Trying Out without Installing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC83">A.4 Running the Regression Tests</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC84">A.5 Building the Documentation and Testing/Installing Emacs Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC85">A.6 Building for Microsoft Windows</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Prerequisites"></a>
<a name="SEC80"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC79" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC81" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC79" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> A.1 Prerequisites: To build the package you'll need at a minimum: </h2>

<ul>
<li> 
Ruby (of course). Currently only version 1.8.6 and above but not 
version 1.9.<em>x</em> work.
</li><li>
Ruby development headers. This typically includes a file called <tt>`ruby.h'</tt>
</li><li> 
A C compiler like GNU C (<code>gcc</code>)
</li><li>
Rake
</li><li>
Subversion (<code>svn</code>).
</li></ul>

<p>If you want to build the documentation and install Emacs files, you'll
also need:
</p>
<ul>
<li> 
 a POSIX shell like bash
</li><li>
 autoconf
</li><li>
 automake
</li><li>
 GNU Make
</li><li>
 texinfo
</li></ul>

<hr size="6">
<a name="Package-Checkout"></a>
<a name="SEC81"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC80" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC82" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC79" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> A.2 Basic Package Checkout and Installation </h2>

<p>Check out the trunk of repository following the instructions at 
<a href="http://rubyforge.org/scm/?group_id=1900">http://rubyforge.org/scm/?group_id=1900</a>  For example on a Unixy system,
this may work:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  mkdir ruby-debug
  cd ruby-debug
  svn checkout svn://rubyforge.org/var/svn/ruby-debug/trunk trunk
</pre></td></tr></table>
<p>In order to make the Ruby gems, <code>ruby-debug</code> and
<code>ruby-debug-base</code>, get yourself into the trunk directory after
the code has been checked out and run:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  cd trunk # This is the same trunk checked out above.
  rake package
</pre></td></tr></table>
<p>If all goes well you should have some gem files put in the directory
<code>pkg</code>. Use the gem command to install that. 
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  sudo gem install ruby-debug-*.gem   # See gem help for other possibilities
</pre></td></tr></table>
<p>If all goes well the rdebug script has been installed ruby-debug is
now ready to run. But if everything goes well you might want to run
the built-in regression tests to make sure everything is okay.
See step 3 below.
</p>
<p>If the gem install didn't work,'t there may be a problem with your C
compiler or the Ruby headers are not installed.
</p>
<hr size="6">
<a name="Trying-Out"></a>
<a name="SEC82"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC81" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC83" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC79" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> A.3 Trying Out without Installing </h2>

<p>You don't have to build a gem file to try out ruby debug. In fact when
developing new features for ruby-debug, developers often you want to
try it out <em>before</em> installing.  If you have a problem in the latter
part of step 1 you may want to try this approach since we go into a
little more detail as to what happens under the covers when you do the
gem install.
</p>
<p>Run (from trunk)
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">  rake lib
</pre></td></tr></table>
<p>This creates a Makefile and builds the ruby-debug shared library. (On
Unix the name is <code>ruby_debug.so</code>).
</p>
<p>Once this is done you can run the debugger as you would rdebug using the
script <code>runner.sh</code>. For example (again from trunk)
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  ./runner.sh ~/my-ruby-program.rb
</pre></td></tr></table>
<hr size="6">
<a name="Running-Regression-Tests"></a>
<a name="SEC83"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC82" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC84" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC79" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> A.4 Running the Regression Tests </h2>
  
<p>We've put together some basic tests to make sure ruby-debug is doing
what we think it should do. To run these (from <code>trunk</code>):
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  rake test
</pre></td></tr></table>
<p>If you didn't build the ruby-debug shared library and skipped step 2,
don't worry <code>rake test</code> will do step 2 for you. You should see a
line that ends something like:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  Finished in 2.767579 seconds.

  12 tests, 35 assertions, 0 failures, 0 errors
</pre></td></tr></table>
<p>The number of seconds, tests, and assertions may be different from the
above. However you <em>should</em> see exactly &quot;0 failures, 0 errors.&quot;
</p>
<hr size="6">
<a name="Building-the-Documentation-and-Emacs-files"></a>
<a name="SEC84"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC83" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC85" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC79" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> A.5 Building the Documentation and Testing/Installing Emacs Files </h2>

<p>Of course, I recommend you read the ruby-debug manual that comes with
the package. If you have the prerequisites described above, run this
once:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">  sh ./autogen.sh
</pre></td></tr></table>
<p>Then run:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">  ./configure
  make
  make test           # Runs Emacs regression tests
  sudo make install   # Or arrange to do this as root
</pre></td></tr></table>
<hr size="6">
<a name="Building-for-Microsoft-Windows"></a>
<a name="SEC85"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC84" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC79" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> A.6 Building for Microsoft Windows </h2>

<p>Microsoft Windows is &quot;special&quot; and building <code>ruby-debug-base</code>
on it requires extra care. A problem here seems to be that the
&quot;One-click&quot; install is compiled using Microsoft Visual Studio C, version 6
which is not sold anymore and is rather old.
</p>
<p>Instead I suggest building via mingw/msys.
<a href="http://eigenclass.org/hiki.rb?cmd=view&amp;p=cross+compiling+rcovrt&amp;key=mingw">http://eigenclass.org/hiki.rb?cmd=view&amp;p=cross+compiling+rcovrt&amp;key=mingw</a>
has instructions on how to do. Some amendments to these instructions.
</p>
<p>First, those instructions are a little GNU/Linux centric. If you are
using Ubuntu or Debian, then this should be the easiest to follow the
instructions. On Ubuntu or Debian there is a mingw3 Debian
package. Installing that will give you the cross compiler that is a
prerequisite. Alternatively if you are running MS Windows I notice
that cygwin also has a mingw package. Or possibly you could use MinGW
directly. For other OS's you might have to build a cross-compiler,
i.e. gcc which emits win32 code and can create a win32 DLL.
</p>
<p>After you have a cross compiler you need to download the Ruby source
and basically build a ruby interpreter. The cross-compile.sh script
works although when I downloaded it, it had lots of blank space at the
beginning which will mess up the Unix magic interpretation. That is
remove the blanks in front of <code>#/bin/sh</code>.
</p>
<p>On my system, this script fails in running <code>make ruby</code> because the
fake.rb that got created needed to have a small change:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">
	    ALT_SEPARATOR = &quot;\&quot;; \
</pre></td></tr></table><p>should be:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">	    ALT_SEPARATOR = &quot;\\&quot;; \
</pre></td></tr></table>
<p>After fixing this, run <code>make ruby</code>. Also, I needed to run
<code>make rubyw</code>.
</p>
<p>And then <code>make install</code> as indicated. 
</p>
<p>Once all of that's in place, the place you want be is in
<code>ruby-debug/trunk/ext/win32</code>, not <code>ruby-debug/ext</code>. 
</p>
<p>So let's say you've installed the cross-compiled install ruby in
<code>/usr/local/ruby-mingw32/</code>. Here then are the commands to build <code>ruby-debug-base-</code><em>xxx</em><code>-mswin32.gem</code>:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">   cd .../ruby-debug/trunk/ext/win32 
   ruby -I /usr/local/ruby-mingw32/lib/ruby/1.8/i386-mingw32 ../extconf.rb
   make # Not rake
   cd ../..   # back in ruby-debug/trunk
   rake win32_gem
</pre></td></tr></table>
<hr size="6">
<a name="Class-Module-Index"></a>
<a name="SEC86"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC85" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC87" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC79" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC87" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="unnumbered"> Class, Module Method Index </h1>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC86_0" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC86_1" class="summary-letter"><b>K</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-vr">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC86_0">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX153"><code><code>Debugger.add_breakpoint</code></code></a></td><td valign="top"><a href="#SEC75">5.2 The <code>Debugger</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX155"><code><code>Debugger.breakpoints</code></code></a></td><td valign="top"><a href="#SEC75">5.2 The <code>Debugger</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX145"><code><code>Debugger.context.frame_args</code></code></a></td><td valign="top"><a href="#SEC73">5.1.2 <code>Debugger.context</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX146"><code><code>Debugger.context.frame_args_info</code></code></a></td><td valign="top"><a href="#SEC73">5.1.2 <code>Debugger.context</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX147"><code><code>Debugger.context.frame_args_info</code></code></a></td><td valign="top"><a href="#SEC73">5.1.2 <code>Debugger.context</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX148"><code><code>Debugger.context.frame_file</code></code></a></td><td valign="top"><a href="#SEC73">5.1.2 <code>Debugger.context</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX149"><code><code>Debugger.context.frame_id</code></code></a></td><td valign="top"><a href="#SEC73">5.1.2 <code>Debugger.context</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX150"><code><code>Debugger.context.frame_line</code></code></a></td><td valign="top"><a href="#SEC73">5.1.2 <code>Debugger.context</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX151"><code><code>Debugger.context.frame_method</code></code></a></td><td valign="top"><a href="#SEC73">5.1.2 <code>Debugger.context</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX152"><code><code>Debugger.context.stack_size</code></code></a></td><td valign="top"><a href="#SEC73">5.1.2 <code>Debugger.context</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX144"><code><code>Debugger.last_exception</code></code></a></td><td valign="top"><a href="#SEC72">5.1.1 <code>Debugger.start</code>, <code>Debugger.started?</code>, <code>Debugger.stop</code>, <code>Debugger.run_script</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX154"><code><code>Debugger.remove_breakpoint</code></code></a></td><td valign="top"><a href="#SEC75">5.2 The <code>Debugger</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX143"><code><code>Debugger.run_script</code></code></a></td><td valign="top"><a href="#SEC72">5.1.1 <code>Debugger.start</code>, <code>Debugger.started?</code>, <code>Debugger.stop</code>, <code>Debugger.run_script</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC74"><code><code>Debugger.settings</code></code></a></td><td valign="top"><a href="#SEC74">5.1.3 <code>Debugger.settings</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX140"><code><code>Debugger.start(block)</code></code></a></td><td valign="top"><a href="#SEC72">5.1.1 <code>Debugger.start</code>, <code>Debugger.started?</code>, <code>Debugger.stop</code>, <code>Debugger.run_script</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX139"><code><code>Debugger.start(options)</code></code></a></td><td valign="top"><a href="#SEC72">5.1.1 <code>Debugger.start</code>, <code>Debugger.started?</code>, <code>Debugger.stop</code>, <code>Debugger.run_script</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX141"><code><code>Debugger.started?</code></code></a></td><td valign="top"><a href="#SEC72">5.1.1 <code>Debugger.start</code>, <code>Debugger.started?</code>, <code>Debugger.stop</code>, <code>Debugger.run_script</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX142"><code><code>Debugger.stop</code></code></a></td><td valign="top"><a href="#SEC72">5.1.1 <code>Debugger.start</code>, <code>Debugger.started?</code>, <code>Debugger.stop</code>, <code>Debugger.run_script</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX160"><code><code>Debugger::Breakpoints.condition</code></code></a></td><td valign="top"><a href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX161"><code><code>Debugger::Breakpoints.condition=</code></code></a></td><td valign="top"><a href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX157"><code><code>Debugger::Breakpoints.enabled=</code></code></a></td><td valign="top"><a href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX156"><code><code>Debugger::Breakpoints.enabled?</code></code></a></td><td valign="top"><a href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX158"><code><code>Debugger::Breakpoints.expr</code></code></a></td><td valign="top"><a href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX159"><code><code>Debugger::Breakpoints.expr=</code></code></a></td><td valign="top"><a href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX162"><code><code>Debugger::Breakpoints.hit_count</code></code></a></td><td valign="top"><a href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX163"><code><code>Debugger::Breakpoints.hit_value</code></code></a></td><td valign="top"><a href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX164"><code><code>Debugger::Breakpoints.hit_value=</code></code></a></td><td valign="top"><a href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX166"><code><code>Debugger::Breakpoints.pos=</code></code></a></td><td valign="top"><a href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX167"><code><code>Debugger::Breakpoints.pos=</code></code></a></td><td valign="top"><a href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX168"><code><code>Debugger::Breakpoints.source</code></code></a></td><td valign="top"><a href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX169"><code><code>Debugger::Breakpoints.source=</code></code></a></td><td valign="top"><a href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX170"><code>Debugger::Context::at_line(<var>file</var>, <var>line</var>)</code></a></td><td valign="top"><a href="#SEC77">5.2.2 The <code>Debugger::Context</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX171"><code>Debugger::Context::at_return(<var>file</var>, <var>line</var>)</code></a></td><td valign="top"><a href="#SEC77">5.2.2 The <code>Debugger::Context</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX172"><code>Debugger::Context::debug_load(<var>file</var>, <var>stop-initially</var>)</code></a></td><td valign="top"><a href="#SEC77">5.2.2 The <code>Debugger::Context</code> Class</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC86_1">K</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX175"><code><code>Kernel::binding_n</code></code></a></td><td valign="top"><a href="#SEC78">5.3 Additions to <code>Kernel</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX174"><code><code>Kernel::breakpoint</code></code></a></td><td valign="top"><a href="#SEC78">5.3 Additions to <code>Kernel</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX173"><code><code>Kernel::debugger</code></code></a></td><td valign="top"><a href="#SEC78">5.3 Additions to <code>Kernel</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC86_0" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC86_1" class="summary-letter"><b>K</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="Command-Index"></a>
<a name="SEC87"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC86" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC88" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC86" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC88" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="unnumbered"> Command Index </h1>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC87_0" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC87_1" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC87_2" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC87_3" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC87_4" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC87_5" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC87_6" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC87_7" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC87_8" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC87_9" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC87_10" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC87_11" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#SEC87_12" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC87_13" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC87_14" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC87_15" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC87_16" class="summary-letter"><b>W</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-ky">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_0">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX79"><code>b (<code>break</code>)</code></a></td><td valign="top"><a href="#SEC42">3.12.1 Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX78"><code>break [<var>location</var>]</code></a></td><td valign="top"><a href="#SEC42">3.12.1 Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_1">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX99"><code>c (<code>continue</code>)</code></a></td><td valign="top"><a href="#SEC49">3.12.4.4 Continue (<samp>`continue'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX81"><code>cat (<code>catch</code>)</code></a></td><td valign="top"><a href="#SEC42">3.12.1 Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX80"><code>catch [<var>exception</var>]</code></a></td><td valign="top"><a href="#SEC42">3.12.1 Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX89"><code>condition</code></a></td><td valign="top"><a href="#SEC44">3.12.3 Break conditions (<samp>`condition'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX98"><code>continue [<var>line-specification</var>]</code></a></td><td valign="top"><a href="#SEC49">3.12.4.4 Continue (<samp>`continue'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_2">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX84"><code>del (<code>delete</code>)</code></a></td><td valign="top"><a href="#SEC42">3.12.1 Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX83"><code>delete [<var>breakpoints</var>]</code></a></td><td valign="top"><a href="#SEC42">3.12.1 Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX87"><code>disable breakpoints</code></a></td><td valign="top"><a href="#SEC43">3.12.2 Disabling breakpoints (<samp>`disable'</samp>, <samp>`enable'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX44"><code>disable display</code></a></td><td valign="top"><a href="#SEC29">3.6 Executing expressions on stop (<samp>`display'</samp>, <samp>`undisplay'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX41"><code>display [<var>expr</var>]</code></a></td><td valign="top"><a href="#SEC29">3.6 Executing expressions on stop (<samp>`display'</samp>, <samp>`undisplay'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX73"><code>down [<var>n</var>]</code></a></td><td valign="top"><a href="#SEC40">3.11.3 Selecting a frame (<samp>`up'</samp>, <samp>`down'</samp>, <samp>`frame'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_3">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX63"><code>edit [<var>line-specification</var>]</code></a></td><td valign="top"><a href="#SEC36">3.10 Editing Source files (<samp>`edit'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX88"><code>enable breakpoints</code></a></td><td valign="top"><a href="#SEC43">3.12.2 Disabling breakpoints (<samp>`disable'</samp>, <samp>`enable'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX45"><code>enable display</code></a></td><td valign="top"><a href="#SEC29">3.6 Executing expressions on stop (<samp>`display'</samp>, <samp>`undisplay'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX46"><code>eval <var>expr</var></code></a></td><td valign="top"><a href="#SEC31">3.7.1 Printing an expression (<samp>`eval'</samp>, <samp>`p'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_4">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX97"><code>finish [<var>frame-number</var>]</code></a></td><td valign="top"><a href="#SEC48">3.12.4.3 Finish (<samp>`finish'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX74"><code>frame [<var>n</var>] [thread <var>thread-num</var>]</code></a></td><td valign="top"><a href="#SEC40">3.11.3 Selecting a frame (<samp>`up'</samp>, <samp>`down'</samp>, <samp>`frame'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_5">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX32"><code>h (<code>help</code>)</code></a></td><td valign="top"><a href="#SEC22">3.4 Getting help (<samp>`help'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX33"><code>help [<var>command-name</var>]</code></a></td><td valign="top"><a href="#SEC22">3.4 Getting help (<samp>`help'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_6">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX39"><code>i</code></a></td><td valign="top"><a href="#SEC27">3.5.3 Interrupt (<samp>`interrupt'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX127"><code>info args</code></a></td><td valign="top"><a href="#SEC68">3.14 Program Information (<samp>`info'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX85"><code>info breakpoints</code></a></td><td valign="top"><a href="#SEC42">3.12.1 Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX128"><code>info breakpoints</code></a></td><td valign="top"><a href="#SEC68">3.14 Program Information (<samp>`info'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX43"><code>info display</code></a></td><td valign="top"><a href="#SEC29">3.6 Executing expressions on stop (<samp>`display'</samp>, <samp>`undisplay'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX129"><code>info display</code></a></td><td valign="top"><a href="#SEC68">3.14 Program Information (<samp>`info'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX131"><code>info file</code></a></td><td valign="top"><a href="#SEC68">3.14 Program Information (<samp>`info'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX130"><code>info files</code></a></td><td valign="top"><a href="#SEC68">3.14 Program Information (<samp>`info'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX56"><code>info globals</code></a></td><td valign="top"><a href="#SEC34">3.8 Printing Variables (<samp>`var'</samp>, <samp>`method'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX54"><code>info instance_variables</code></a></td><td valign="top"><a href="#SEC34">3.8 Printing Variables (<samp>`var'</samp>, <samp>`method'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX132"><code>info line</code></a></td><td valign="top"><a href="#SEC68">3.14 Program Information (<samp>`info'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX55"><code>info locals</code></a></td><td valign="top"><a href="#SEC34">3.8 Printing Variables (<samp>`var'</samp>, <samp>`method'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX133"><code>info locals</code></a></td><td valign="top"><a href="#SEC68">3.14 Program Information (<samp>`info'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX134"><code>info program</code></a></td><td valign="top"><a href="#SEC68">3.14 Program Information (<samp>`info'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX135"><code>info stack</code></a></td><td valign="top"><a href="#SEC68">3.14 Program Information (<samp>`info'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX136"><code>info thread</code></a></td><td valign="top"><a href="#SEC68">3.14 Program Information (<samp>`info'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX137"><code>info threads [ terse | verbose]</code></a></td><td valign="top"><a href="#SEC68">3.14 Program Information (<samp>`info'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX57"><code>info variables</code></a></td><td valign="top"><a href="#SEC34">3.8 Printing Variables (<samp>`var'</samp>, <samp>`method'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX138"><code>info variables</code></a></td><td valign="top"><a href="#SEC68">3.14 Program Information (<samp>`info'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX38"><code>interrupt</code></a></td><td valign="top"><a href="#SEC27">3.5.3 Interrupt (<samp>`interrupt'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX51"><code>irb</code></a></td><td valign="top"><a href="#SEC33">3.7.3 Run irb (<samp>`irb'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_7">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX62"><code>l (<code>list</code>)</code></a></td><td valign="top"><a href="#SEC35">3.9 Examining Program Source Files (<samp>`list'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX61"><code>list [<var>line-number</var>]</code></a></td><td valign="top"><a href="#SEC35">3.9 Examining Program Source Files (<samp>`list'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_8">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX60"><code>method <var>class-or-module</var></code></a></td><td valign="top"><a href="#SEC34">3.8 Printing Variables (<samp>`var'</samp>, <samp>`method'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX58"><code>method instance <var>object</var></code></a></td><td valign="top"><a href="#SEC34">3.8 Printing Variables (<samp>`var'</samp>, <samp>`method'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX59"><code>method iv <var>object</var></code></a></td><td valign="top"><a href="#SEC34">3.8 Printing Variables (<samp>`var'</samp>, <samp>`method'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_9">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX96"><code>n (<code>next</code>)</code></a></td><td valign="top"><a href="#SEC47">3.12.4.2 Next (<samp>`next'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX95"><code>next [+-] [<var>count</var>]</code></a></td><td valign="top"><a href="#SEC47">3.12.4.2 Next (<samp>`next'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_10">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX47"><code>p (<code>eval</code>)</code></a></td><td valign="top"><a href="#SEC31">3.7.1 Printing an expression (<samp>`eval'</samp>, <samp>`p'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX48"><code>pp <var>expr</var></code></a></td><td valign="top"><a href="#SEC32">3.7.2 Pretty-Printing an expression (<samp>`pp'</samp>, <samp>`putl'</samp>, <samp>`ps'</samp>))</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX50"><code>ps</code></a></td><td valign="top"><a href="#SEC32">3.7.2 Pretty-Printing an expression (<samp>`pp'</samp>, <samp>`putl'</samp>, <samp>`ps'</samp>))</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX49"><code>putl</code></a></td><td valign="top"><a href="#SEC32">3.7.2 Pretty-Printing an expression (<samp>`pp'</samp>, <samp>`putl'</samp>, <samp>`ps'</samp>))</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_11">Q</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX35"><code>q (<code>quit</code>)</code></a></td><td valign="top"><a href="#SEC25">3.5.1 Quit (<samp>`quit'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX34"><code>quit [unconditionally]</code></a></td><td valign="top"><a href="#SEC25">3.5.1 Quit (<samp>`quit'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_12">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX37"><code>R (<code>restart</code>)</code></a></td><td valign="top"><a href="#SEC26">3.5.2 Restart (<samp>`restart'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX36"><code>restart [<var>program args</var>]</code></a></td><td valign="top"><a href="#SEC26">3.5.2 Restart (<samp>`restart'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_13">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX94"><code>s (<code>step</code>)</code></a></td><td valign="top"><a href="#SEC46">3.12.4.1 Step (<samp>`step'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX100"><code>set args [<var>parameters</var>]</code></a></td><td valign="top"><a href="#SEC51">3.13.1 Set/Show args</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX102"><code>set autoeval [ on | 1 | off | 0 ]</code></a></td><td valign="top"><a href="#SEC52">3.13.2 Set/Show auto-eval</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX104"><code>set autoirb [ on | 1 | off | 0 ]</code></a></td><td valign="top"><a href="#SEC54">3.13.4 Set/Show auto-irb</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX106"><code>set autoreload [ on | 1 | off | 0 ]</code></a></td><td valign="top"><a href="#SEC55">3.13.5 Set/Show auto-reload</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX107"><code>set basename [ on | 1 | off | 0 ]</code></a></td><td valign="top"><a href="#SEC56">3.13.6 Set/Show basename</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX109"><code>set forcestep [ on | 1 | off | 0 ]</code></a></td><td valign="top"><a href="#SEC58">3.13.8 Set/Show Forces Different Line Step/Next</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX114"><code>set history save [ on | 1 | off | 0 ]</code></a></td><td valign="top"><a href="#SEC60">3.13.10 Command History Parameters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX116"><code>set history size <var>number</var></code></a></td><td valign="top"><a href="#SEC60">3.13.10 Command History Parameters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX118"><code>set linetrace [ on | 1 | off | 0 ]</code></a></td><td valign="top"><a href="#SEC62">3.13.12 Set/Show Line tracing</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX120"><code>set linetrace+ [ on | 1 | off | 0 ]</code></a></td><td valign="top"><a href="#SEC63">3.13.13 Set/Show Line tracing style</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX122"><code>set listsize <var>number-of-lines</var></code></a></td><td valign="top"><a href="#SEC64">3.13.14 Set/Show lines in a List command</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX125"><code>set width <var>column-width</var></code></a></td><td valign="top"><a href="#SEC67">3.13.17 Set/Show Line width</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX101"><code>show args</code></a></td><td valign="top"><a href="#SEC51">3.13.1 Set/Show args</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX103"><code>show autoeval</code></a></td><td valign="top"><a href="#SEC52">3.13.2 Set/Show auto-eval</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX105"><code>show autoirb</code></a></td><td valign="top"><a href="#SEC54">3.13.4 Set/Show auto-irb</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX108"><code>show basename</code></a></td><td valign="top"><a href="#SEC56">3.13.6 Set/Show basename</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX111"><code>show commands</code></a></td><td valign="top"><a href="#SEC60">3.13.10 Command History Parameters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX112"><code>show commands <var>n</var></code></a></td><td valign="top"><a href="#SEC60">3.13.10 Command History Parameters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX110"><code>show forcestep</code></a></td><td valign="top"><a href="#SEC58">3.13.8 Set/Show Forces Different Line Step/Next</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX113"><code>show history filename</code></a></td><td valign="top"><a href="#SEC60">3.13.10 Command History Parameters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX115"><code>show history save</code></a></td><td valign="top"><a href="#SEC60">3.13.10 Command History Parameters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX117"><code>show history size</code></a></td><td valign="top"><a href="#SEC60">3.13.10 Command History Parameters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX119"><code>show linetrace</code></a></td><td valign="top"><a href="#SEC62">3.13.12 Set/Show Line tracing</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX121"><code>show linetrace+</code></a></td><td valign="top"><a href="#SEC63">3.13.13 Set/Show Line tracing style</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX123"><code>show listsize</code></a></td><td valign="top"><a href="#SEC64">3.13.14 Set/Show lines in a List command</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX124"><code>show post-mortem</code></a></td><td valign="top"><a href="#SEC65">3.13.15 Show Post-mortem handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX126"><code>show width</code></a></td><td valign="top"><a href="#SEC67">3.13.17 Set/Show Line width</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX40"><code>source <var>filename</var></code></a></td><td valign="top"><a href="#SEC28">3.5.4 Running Debugger Commands (<samp>`source'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX93"><code>step [+] [<var>count</var>]</code></a></td><td valign="top"><a href="#SEC46">3.12.4.1 Step (<samp>`step'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_14">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX42"><code>undisplay [<var>num</var>]</code></a></td><td valign="top"><a href="#SEC29">3.6 Executing expressions on stop (<samp>`display'</samp>, <samp>`undisplay'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX72"><code>up [<var>n</var>]</code></a></td><td valign="top"><a href="#SEC40">3.11.3 Selecting a frame (<samp>`up'</samp>, <samp>`down'</samp>, <samp>`frame'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_15">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX52"><code>var const <var>expr</var></code></a></td><td valign="top"><a href="#SEC34">3.8 Printing Variables (<samp>`var'</samp>, <samp>`method'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX53"><code>var instance <var>expr</var></code></a></td><td valign="top"><a href="#SEC34">3.8 Printing Variables (<samp>`var'</samp>, <samp>`method'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC87_16">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX71"><code>w (<code>where</code>)</code></a></td><td valign="top"><a href="#SEC39">3.11.2 Backtraces (<samp>`where'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX70"><code>where</code></a></td><td valign="top"><a href="#SEC39">3.11.2 Backtraces (<samp>`where'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC87_0" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC87_1" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC87_2" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC87_3" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC87_4" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC87_5" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC87_6" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC87_7" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC87_8" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC87_9" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC87_10" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC87_11" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#SEC87_12" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC87_13" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC87_14" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC87_15" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC87_16" class="summary-letter"><b>W</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="General-Index"></a>
<a name="SEC88"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC87" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[ &gt; ]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC87" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[ &gt;&gt; ]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="unnumbered"> General Index </h1>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC88_0" class="summary-letter"><b>$</b></a>
 &nbsp; 
<a href="#SEC88_1" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#SEC88_2" class="summary-letter"><b>.</b></a>
 &nbsp; 
<br>
<a href="#SEC88_3" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC88_4" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC88_5" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC88_6" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC88_7" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC88_8" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC88_9" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC88_10" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC88_11" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC88_12" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC88_13" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC88_14" class="summary-letter"><b>T</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-cp">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC88_0">$</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX86"><code>$_</code> and <code>info breakpoints</code></a></td><td valign="top"><a href="#SEC42">3.12.1 Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC88_1">-</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX5"><code>--annotation</code> <var>level</var></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX7"><code>--client</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX8"><code>--cport</code> <var>port</var></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX9"><code>--debug</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2"><code>--help</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX11"><code>--include</code> <var>PATH</var></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX12"><code>--keep-frame-binding</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX15"><code>--no-control</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX16"><code>--no-quit</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX17"><code>--no-rewrite-program</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX18"><code>--no-stop</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX20"><code>--port</code> <var>port</var></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX14"><code>--post-mortem</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX22"><code>--require</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX23"><code>--script</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX25"><code>--server</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX29"><code>--trace</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX27"><code>--wait</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX4"><code>-A</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX6"><code>-c</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1"><code>-h</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX10"><code>-I</code> <var>PATH</var></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX13"><code>-m</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX19"><code>-p</code> <var>port</var></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX21"><code>-r</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX24"><code>-s</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX3"><code>-v</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX26"><code>-w</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX28"><code>-x</code></a></td><td valign="top"><a href="#SEC13">2.1.1 Options you can pass to rdebug</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC88_2">.</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX31"><tt>`.rdebugrc'</tt></a></td><td valign="top"><a href="#SEC15">2.2 Command files</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC88_3">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC29">automatic display</a></td><td valign="top"><a href="#SEC29">3.6 Executing expressions on stop (<samp>`display'</samp>, <samp>`undisplay'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC88_4">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC39">backtraces</a></td><td valign="top"><a href="#SEC39">3.11.2 Backtraces (<samp>`where'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC44">breakpoint conditions</a></td><td valign="top"><a href="#SEC44">3.12.3 Break conditions (<samp>`condition'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX76">breakpoint numbers</a></td><td valign="top"><a href="#SEC42">3.12.1 Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC42">breakpoints</a></td><td valign="top"><a href="#SEC42">3.12.1 Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC88_5">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX64">call stack</a></td><td valign="top"><a href="#SEC37">3.11 Examining the Stack Frame (<samp>`where'</samp>, <samp>`up'</samp>, <samp>`down'</samp>, <samp>`frame'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC15">command files</a></td><td valign="top"><a href="#SEC15">2.2 Command files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC44">conditional breakpoints</a></td><td valign="top"><a href="#SEC44">3.12.3 Break conditions (<samp>`condition'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX91">continuing</a></td><td valign="top"><a href="#SEC45">3.12.4 Resuming Execution (<samp>`step'</samp>, <samp>`next'</samp>, <samp>`finish'</samp>, <samp>`continue'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC35">current line</a></td><td valign="top"><a href="#SEC35">3.9 Examining Program Source Files (<samp>`list'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX75">current stack frame</a></td><td valign="top"><a href="#SEC40">3.11.3 Selecting a frame (<samp>`up'</samp>, <samp>`down'</samp>, <samp>`frame'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC88_6">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX165"><code>Debugger::Breakpoints.id</code></a></td><td valign="top"><a href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX82">delete breakpoints</a></td><td valign="top"><a href="#SEC42">3.12.1 Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC29">display of expressions</a></td><td valign="top"><a href="#SEC29">3.6 Executing expressions on stop (<samp>`display'</samp>, <samp>`undisplay'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC88_7">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX69">frame number</a></td><td valign="top"><a href="#SEC38">3.11.1 Stack frames</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC38">frame, definition</a></td><td valign="top"><a href="#SEC38">3.11.1 Stack frames</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC88_8">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX30">init file</a></td><td valign="top"><a href="#SEC15">2.2 Command files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX66">initial frame</a></td><td valign="top"><a href="#SEC38">3.11.1 Stack frames</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX68">innermost frame</a></td><td valign="top"><a href="#SEC38">3.11.1 Stack frames</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC16">interrupt</a></td><td valign="top"><a href="#SEC16">2.3 Quitting the debugger</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC88_9">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX77">numbers for breakpoints</a></td><td valign="top"><a href="#SEC42">3.12.1 Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC88_10">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC22">on-line documentation</a></td><td valign="top"><a href="#SEC22">3.4 Getting help (<samp>`help'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX67">outermost frame</a></td><td valign="top"><a href="#SEC38">3.11.1 Stack frames</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC88_11">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC69">post-mortem debugging</a></td><td valign="top"><a href="#SEC69">4. Post-Mortem Debugging</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC88_12">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX92">resuming execution</a></td><td valign="top"><a href="#SEC45">3.12.4 Resuming Execution (<samp>`step'</samp>, <samp>`next'</samp>, <samp>`finish'</samp>, <samp>`continue'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC88_13">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX65">selected block</a></td><td valign="top"><a href="#SEC37">3.11 Examining the Stack Frame (<samp>`where'</samp>, <samp>`up'</samp>, <samp>`down'</samp>, <samp>`frame'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC38">stack frame</a></td><td valign="top"><a href="#SEC38">3.11.1 Stack frames</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC39">stack traces</a></td><td valign="top"><a href="#SEC39">3.11.2 Backtraces (<samp>`where'</samp>)</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX90">stepping</a></td><td valign="top"><a href="#SEC45">3.12.4 Resuming Execution (<samp>`step'</samp>, <samp>`next'</samp>, <samp>`finish'</samp>, <samp>`continue'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC88_14">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC39">tracebacks</a></td><td valign="top"><a href="#SEC39">3.11.2 Backtraces (<samp>`where'</samp>)</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC88_0" class="summary-letter"><b>$</b></a>
 &nbsp; 
<a href="#SEC88_1" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#SEC88_2" class="summary-letter"><b>.</b></a>
 &nbsp; 
<br>
<a href="#SEC88_3" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC88_4" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC88_5" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC88_6" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC88_7" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC88_8" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC88_9" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC88_10" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC88_11" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC88_12" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC88_13" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC88_14" class="summary-letter"><b>T</b></a>
 &nbsp; 
</td></tr></table>


<hr size="6">
<a name="SEC_Foot"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>Footnotes</h1>
<h3><a name="FOOT1" href="#DOCF1">(1)</a></h3>
<p>There are of course shorter ways to define <code>triangle</code>
such as:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">  def triangle(n) (n * (n+1)) / 2 end
</pre></td></tr></table><p>The code we use in this example and the next is more for pedagogical
purposes than how to write short Ruby code.
</p><h3><a name="FOOT2" href="#DOCF2">(2)</a></h3>
<p><code>rdebug</code> resets <code>$0</code> to try to make things
like this work.
</p><h3><a name="FOOT3" href="#DOCF3">(3)</a></h3>
<p>For some
versions of rake and <code>rdebug</code> you can in fact set a breakpoint
after running <code>rdebug</code> initially. Personally though I find it
much simpler and more reliable to modify the code as shown here.
</p><h3><a name="FOOT4" href="#DOCF4">(4)</a></h3>
<p>this is just an excuse to put in a
shameless plug for my bash debugger <a href="http://bashdb.sf.net">http://bashdb.sf.net</a>
</p><h3><a name="FOOT5" href="#DOCF5">(5)</a></h3>
<p>However in C, and
C++ generally you have to ask the compiler to add such information.
</p><h3><a name="FOOT6" href="#DOCF6">(6)</a></h3>
<p>More accurately
we should call this a &quot;block stack&quot;; but we'll use the name that is
more commonly used. And internally in Ruby, there is &quot;FRAME&quot;
structure which is yet slightly different.
</p><hr size="1">
<a name="SEC_Contents"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>Table of Contents</h1>
<div class="contents">

<ul class="toc">
  <li><a name="TOC1" href="#SEC1">1. Summary of <code>ruby-debug</code></a>
  <ul class="toc">
    <li><a name="TOC2" href="#SEC2">1.1 The First Sample <code>rdebug</code> Session (<code>list</code>, <code>display</code>, <code>print</code>, and <code>quit</code>)</a></li>
    <li><a name="TOC3" href="#SEC3">1.2 Sample Session 2: Delving Deeper (<code>where</code>, <code>frame</code>, <code>restart</code>, <code>autoeval</code>, <code>break</code>, <code>ps</code>)</a></li>
    <li><a name="TOC4" href="#SEC4">1.3 Using the debugger in unit testing (<code>ruby-debug/debugger</code>, <code>Debugger.start</code>)</a></li>
    <li><a name="TOC5" href="#SEC5">1.4 How debugging Ruby may be different than debugging other Languages</a>
    <ul class="toc">
      <li><a name="TOC6" href="#SEC6">1.4.1 Stack Shows Scope Nesting</a></li>
      <li><a name="TOC7" href="#SEC7">1.4.2 More Frequent Evaluations per Line</a></li>
      <li><a name="TOC8" href="#SEC8">1.4.3 Bouncing Around in Blocks (e.g. Iterators)</a></li>
      <li><a name="TOC9" href="#SEC9">1.4.4 No Parameter Values in a Call Stack</a></li>
      <li><a name="TOC10" href="#SEC10">1.4.5 Lines You Can Stop At</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="TOC11" href="#SEC11">2. Getting in and out</a>
  <ul class="toc">
    <li><a name="TOC12" href="#SEC12">2.1 Starting the debugger</a>
    <ul class="toc">
      <li><a name="TOC13" href="#SEC13">2.1.1 Options you can pass to rdebug</a></li>
      <li><a name="TOC14" href="#SEC14">2.1.2 How to Set Default Command-Line Options</a></li>
    </ul></li>
    <li><a name="TOC15" href="#SEC15">2.2 Command files</a></li>
    <li><a name="TOC16" href="#SEC16">2.3 Quitting the debugger</a></li>
    <li><a name="TOC17" href="#SEC17">2.4 Calling the debugger from inside your Ruby program</a></li>
  </ul></li>
  <li><a name="TOC18" href="#SEC18">3. <code>ruby-debug</code> Command Reference</a>
  <ul class="toc">
    <li><a name="TOC19" href="#SEC19">3.1 Command Interfaces</a></li>
    <li><a name="TOC20" href="#SEC20">3.2 Command Syntax</a></li>
    <li><a name="TOC21" href="#SEC21">3.3 Command Output</a></li>
    <li><a name="TOC22" href="#SEC22">3.4 Getting help (<samp>`help'</samp>)</a>
    <ul class="toc">
      <li><a name="TOC23" href="#SEC23">3.4.1 Help on Subcommands</a></li>
    </ul></li>
    <li><a name="TOC24" href="#SEC24">3.5 Controlling the debugger (<samp>`quit'</samp>, <samp>`restart'</samp>, <samp>`interrupt'</samp>, <samp>`source'</samp>)</a>
    <ul class="toc">
      <li><a name="TOC25" href="#SEC25">3.5.1 Quit (<samp>`quit'</samp>)</a></li>
      <li><a name="TOC26" href="#SEC26">3.5.2 Restart (<samp>`restart'</samp>)</a></li>
      <li><a name="TOC27" href="#SEC27">3.5.3 Interrupt (<samp>`interrupt'</samp>)</a></li>
      <li><a name="TOC28" href="#SEC28">3.5.4 Running Debugger Commands (<samp>`source'</samp>)</a></li>
    </ul></li>
    <li><a name="TOC29" href="#SEC29">3.6 Executing expressions on stop (<samp>`display'</samp>, <samp>`undisplay'</samp>)</a></li>
    <li><a name="TOC30" href="#SEC30">3.7 Evaluating and Printing Expressions (<samp>`p'</samp>, <samp>`pp'</samp>, <samp>`putl'</samp>, <samp>`ps'</samp>, <samp>`irb'</samp>)</a>
    <ul class="toc">
      <li><a name="TOC31" href="#SEC31">3.7.1 Printing an expression (<samp>`eval'</samp>, <samp>`p'</samp>)</a></li>
      <li><a name="TOC32" href="#SEC32">3.7.2 Pretty-Printing an expression (<samp>`pp'</samp>, <samp>`putl'</samp>, <samp>`ps'</samp>))</a></li>
      <li><a name="TOC33" href="#SEC33">3.7.3 Run irb (<samp>`irb'</samp>)</a></li>
    </ul></li>
    <li><a name="TOC34" href="#SEC34">3.8 Printing Variables (<samp>`var'</samp>, <samp>`method'</samp>)</a></li>
    <li><a name="TOC35" href="#SEC35">3.9 Examining Program Source Files (<samp>`list'</samp>)</a></li>
    <li><a name="TOC36" href="#SEC36">3.10 Editing Source files (<samp>`edit'</samp>)</a></li>
    <li><a name="TOC37" href="#SEC37">3.11 Examining the Stack Frame (<samp>`where'</samp>, <samp>`up'</samp>, <samp>`down'</samp>, <samp>`frame'</samp>)</a>
    <ul class="toc">
      <li><a name="TOC38" href="#SEC38">3.11.1 Stack frames</a></li>
      <li><a name="TOC39" href="#SEC39">3.11.2 Backtraces (<samp>`where'</samp>)</a></li>
      <li><a name="TOC40" href="#SEC40">3.11.3 Selecting a frame (<samp>`up'</samp>, <samp>`down'</samp>, <samp>`frame'</samp>)</a></li>
    </ul></li>
    <li><a name="TOC41" href="#SEC41">3.12 Stopping and Resuming Execution</a>
    <ul class="toc">
      <li><a name="TOC42" href="#SEC42">3.12.1 Breakpoints (<samp>`break'</samp>, <samp>`catch'</samp>, <samp>`delete'</samp>)</a></li>
      <li><a name="TOC43" href="#SEC43">3.12.2 Disabling breakpoints (<samp>`disable'</samp>, <samp>`enable'</samp>)</a></li>
      <li><a name="TOC44" href="#SEC44">3.12.3 Break conditions (<samp>`condition'</samp>)</a></li>
      <li><a name="TOC45" href="#SEC45">3.12.4 Resuming Execution (<samp>`step'</samp>, <samp>`next'</samp>, <samp>`finish'</samp>, <samp>`continue'</samp>)</a>
      <ul class="toc">
        <li><a name="TOC46" href="#SEC46">3.12.4.1 Step (<samp>`step'</samp>)</a></li>
        <li><a name="TOC47" href="#SEC47">3.12.4.2 Next (<samp>`next'</samp>)</a></li>
        <li><a name="TOC48" href="#SEC48">3.12.4.3 Finish (<samp>`finish'</samp>)</a></li>
        <li><a name="TOC49" href="#SEC49">3.12.4.4 Continue (<samp>`continue'</samp>)</a></li>
      </ul>
</li>
    </ul></li>
    <li><a name="TOC50" href="#SEC50">3.13 ruby-debug settings (<samp>`set args'</samp>, <samp>`set autoeval'</samp>..)</a>
    <ul class="toc">
      <li><a name="TOC51" href="#SEC51">3.13.1 Set/Show args</a></li>
      <li><a name="TOC52" href="#SEC52">3.13.2 Set/Show auto-eval</a></li>
      <li><a name="TOC53" href="#SEC53">3.13.3 Execute &quot;list&quot; command on every breakpoint</a></li>
      <li><a name="TOC54" href="#SEC54">3.13.4 Set/Show auto-irb</a></li>
      <li><a name="TOC55" href="#SEC55">3.13.5 Set/Show auto-reload</a></li>
      <li><a name="TOC56" href="#SEC56">3.13.6 Set/Show basename</a></li>
      <li><a name="TOC57" href="#SEC57">3.13.7 Set/Show call style</a></li>
      <li><a name="TOC58" href="#SEC58">3.13.8 Set/Show Forces Different Line Step/Next</a></li>
      <li><a name="TOC59" href="#SEC59">3.13.9 Set/Show Frame full path</a></li>
      <li><a name="TOC60" href="#SEC60">3.13.10 Command History Parameters</a></li>
      <li><a name="TOC61" href="#SEC61">3.13.11 Save frame binding on each call</a></li>
      <li><a name="TOC62" href="#SEC62">3.13.12 Set/Show Line tracing</a></li>
      <li><a name="TOC63" href="#SEC63">3.13.13 Set/Show Line tracing style</a></li>
      <li><a name="TOC64" href="#SEC64">3.13.14 Set/Show lines in a List command</a></li>
      <li><a name="TOC65" href="#SEC65">3.13.15 Show Post-mortem handling</a></li>
      <li><a name="TOC66" href="#SEC66">3.13.16 Display stack trace when 'eval' raises exception</a></li>
      <li><a name="TOC67" href="#SEC67">3.13.17 Set/Show Line width</a></li>
    </ul></li>
    <li><a name="TOC68" href="#SEC68">3.14 Program Information (<samp>`info'</samp>)</a></li>
  </ul></li>
  <li><a name="TOC69" href="#SEC69">4. Post-Mortem Debugging</a></li>
  <li><a name="TOC70" href="#SEC70">5. The Debugger Module and Class</a>
  <ul class="toc">
    <li><a name="TOC71" href="#SEC71">5.1 The Debugger Module</a>
    <ul class="toc">
      <li><a name="TOC72" href="#SEC72">5.1.1 <code>Debugger.start</code>, <code>Debugger.started?</code>, <code>Debugger.stop</code>, <code>Debugger.run_script</code></a></li>
      <li><a name="TOC73" href="#SEC73">5.1.2 <code>Debugger.context</code></a></li>
      <li><a name="TOC74" href="#SEC74">5.1.3 <code>Debugger.settings</code></a></li>
    </ul></li>
    <li><a name="TOC75" href="#SEC75">5.2 The <code>Debugger</code> Class</a>
    <ul class="toc">
      <li><a name="TOC76" href="#SEC76">5.2.1 The <code>Debugger::Breakpoint</code> Class</a></li>
      <li><a name="TOC77" href="#SEC77">5.2.2 The <code>Debugger::Context</code> Class</a></li>
    </ul></li>
    <li><a name="TOC78" href="#SEC78">5.3 Additions to <code>Kernel</code></a></li>
  </ul></li>
  <li><a name="TOC79" href="#SEC79">A. Building and Installing from rubyforge's Subversion Repository</a>
  <ul class="toc">
    <li><a name="TOC80" href="#SEC80">A.1 Prerequisites: To build the package you'll need at a minimum:</a></li>
    <li><a name="TOC81" href="#SEC81">A.2 Basic Package Checkout and Installation</a></li>
    <li><a name="TOC82" href="#SEC82">A.3 Trying Out without Installing</a></li>
    <li><a name="TOC83" href="#SEC83">A.4 Running the Regression Tests</a></li>
    <li><a name="TOC84" href="#SEC84">A.5 Building the Documentation and Testing/Installing Emacs Files</a></li>
    <li><a name="TOC85" href="#SEC85">A.6 Building for Microsoft Windows</a></li>
  </ul></li>
  <li><a name="TOC86" href="#SEC86">Class, Module Method Index</a></li>
  <li><a name="TOC87" href="#SEC87">Command Index</a></li>
  <li><a name="TOC88" href="#SEC88">General Index</a></li>
</ul>
</div>
<hr size="1">
<a name="SEC_About"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>About This Document</h1>
<p>
  This document was generated by <em>R. Bernstein</em> on <em>April, 8 2008</em> using <a href="http://texi2html.cvshome.org/"><em>texi2html 1.76</em></a>.
</p>
<p>
  The buttons in the navigation panels have the following meaning:
</p>
<table border="1">
  <tr>
    <th> Button </th>
    <th> Name </th>
    <th> Go to </th>
    <th> From 1.2.3 go to</th>
  </tr>
  <tr>
    <td align="center"> [ &lt; ] </td>
    <td align="center">Back</td>
    <td>previous section in reading order</td>
    <td>1.2.2</td>
  </tr>
  <tr>
    <td align="center"> [ &gt; ] </td>
    <td align="center">Forward</td>
    <td>next section in reading order</td>
    <td>1.2.4</td>
  </tr>
  <tr>
    <td align="center"> [ &lt;&lt; ] </td>
    <td align="center">FastBack</td>
    <td>beginning of this chapter or previous chapter</td>
    <td>1</td>
  </tr>
  <tr>
    <td align="center"> [ Up ] </td>
    <td align="center">Up</td>
    <td>up section</td>
    <td>1.2</td>
  </tr>
  <tr>
    <td align="center"> [ &gt;&gt; ] </td>
    <td align="center">FastForward</td>
    <td>next chapter</td>
    <td>2</td>
  </tr>
  <tr>
    <td align="center"> [Top] </td>
    <td align="center">Top</td>
    <td>cover (top) of document</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Contents] </td>
    <td align="center">Contents</td>
    <td>table of contents</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Index] </td>
    <td align="center">Index</td>
    <td>index</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [ ? ] </td>
    <td align="center">About</td>
    <td>about (help)</td>
    <td> &nbsp; </td>
  </tr>
</table>

<p>
  where the <strong> Example </strong> assumes that the current position is at <strong> Subsubsection One-Two-Three </strong> of a document of the following structure:
</p>

<ul>
  <li> 1. Section One
    <ul>
      <li>1.1 Subsection One-One
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.2 Subsection One-Two
        <ul>
          <li>1.2.1 Subsubsection One-Two-One</li>
          <li>1.2.2 Subsubsection One-Two-Two</li>
          <li>1.2.3 Subsubsection One-Two-Three &nbsp; &nbsp;
            <strong>&lt;== Current Position </strong></li>
          <li>1.2.4 Subsubsection One-Two-Four</li>
        </ul>
      </li>
      <li>1.3 Subsection One-Three
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.4 Subsection One-Four</li>
    </ul>
  </li>
</ul>

<hr size="1">
<p>
 <font size="-1">
  This document was generated by <em>R. Bernstein</em> on <em>April, 8 2008</em> using <a href="http://texi2html.cvshome.org/"><em>texi2html 1.76</em></a>.
 </font>
 <br>

</p>
</body>
</html>
